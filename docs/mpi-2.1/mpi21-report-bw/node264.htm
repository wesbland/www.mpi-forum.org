<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-io/io-2.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Preallocating Space for a File</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node264">248. Preallocating Space for a File</a></H2>
<A HREF="node263.htm#Node263"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node259.htm#Node259"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node265.htm#Node265"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node259.htm#Node259"> File Manipulation</a>
<b>Next: </b><A HREF="node265.htm#Node265"> Querying the Size of a File</a>
<b>Previous: </b><A HREF="node263.htm#Node263"> Resizing a File</a>
<P>
  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_FILE_PREALLOCATE(fh, size)</TD></TR>  
<TR><TD> INOUT fh</TD><TD>file handle (handle)</TD></TR>  
<TR><TD> IN size</TD><TD>size to preallocate file (integer)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_File_preallocate(MPI_File fh, MPI_Offset size) <BR></tt>  
 <tt> MPI_FILE_PREALLOCATE(FH, SIZE, IERROR)<BR> INTEGER FH, IERROR <BR>INTEGER(KIND=MPI_OFFSET_KIND) SIZE <BR></tt>  
 <tt> void MPI::File::Preallocate(MPI::Offset size) <BR></tt>  
<P> 
 MPI_FILE_PREALLOCATE ensures that storage space is  
allocated for the first  size bytes of the file  
associated with  fh.   
 MPI_FILE_PREALLOCATE is collective;  
all processes in the group must pass identical values for  size.  
Regions of the file that have previously been written are unaffected.  
For newly allocated regions of the file,  MPI_FILE_PREALLOCATE  
has the same effect as writing undefined data.  
  
If  size is larger than the current file size,  
the file size increases to  size.  
If  size is less than or equal to the current file size,  
the file size is unchanged.  
  
<P> 
The treatment of  
file pointers, pending nonblocking accesses, and file consistency  
is the same as with  MPI_FILE_SET_SIZE.  
If  MPI_MODE_SEQUENTIAL mode was specified when the file was opened,  
it is erroneous to call this routine.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
In some implementations,  
  
file preallocation may be expensive.  
  
 (<em> End of advice to users.</em>) <BR> 

<P>
<HR>
<A HREF="node263.htm#Node263"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node259.htm#Node259"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node265.htm#Node265"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node259.htm#Node259"> File Manipulation</a>
<b>Next: </b><A HREF="node265.htm#Node265"> Querying the Size of a File</a>
<b>Previous: </b><A HREF="node263.htm#Node263"> Resizing a File</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
