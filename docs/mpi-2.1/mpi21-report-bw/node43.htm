<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-pt2pt/pt2pt.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Message Envelope</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node43">43. Message Envelope</a></H2>
<A HREF="node42.htm#Node42"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node40.htm#Node40"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node44.htm#Node44"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node40.htm#Node40"> Blocking Send and Receive Operations</a>
<b>Next: </b><A HREF="node44.htm#Node44"> Blocking Receive</a>
<b>Previous: </b><A HREF="node42.htm#Node42"> Message Data</a>
<P>
  
<P> 
In addition to the data part, messages carry information that can be used to  
distinguish messages and selectively receive them.  This information consists  
of a fixed number of fields, which we collectively call  
the <b> message envelope</b>.   These fields are  
<CENTER>  
source <BR>  
destination <BR>  
tag <BR>  
communicator  
</CENTER>  
<P> 
The message source is implicitly determined by the identity of the  
message sender.  The other fields are specified by arguments in the send  
operation.  
<P> 
The message destination is specified by the  dest  
argument.  
<P> 
The integer-valued message tag is specified by the  tag argument.  
This integer can be used by the program to distinguish different types of  
messages.  
The range of valid tag values is  0,...,UB, where the value of  UB is  
implementation dependent. It can be found by querying the  
value of the attribute  MPI_TAG_UB, as  
described in Chapter <a href="node173.htm#Node173">MPI Environmental Management 
</a>.   MPI requires that  UB be no  
less than 32767.  
<P> 
The  comm argument specifies the <b> communicator</b> that is used for  
the send operation.  
Communicators are explained in Chapter <a href="node114.htm#Node114">Groups, Contexts, Communicators, and Caching 
</a>; below is a brief  
summary of their usage.  
<P> 
A communicator specifies the  
communication context for a communication operation.  
Each communication context provides a separate ``communication  
universe:'' messages are always received within the context they were  
sent, and messages sent in different contexts do not interfere.  
<P> 
The communicator also specifies the set of processes that share this  
communication context.   This <b> process group</b>  
is ordered and processes are identified by their  
rank within this group.  Thus, the range of valid values for  dest is  
 0, ... , n-1, where  n is the number of  
processes in the group.  (If the communicator is an inter-communicator, then  
destinations are identified by their rank in the remote group.  See  
Chapter <a href="node114.htm#Node114">Groups, Contexts, Communicators, and Caching 
</a>.)  
<P> 
A predefined communicator  MPI_COMM_WORLD is provided by  MPI. It  
allows communication with all processes that are accessible after  MPI  
initialization and processes are identified by their rank in the  
group of  MPI_COMM_WORLD.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
Users that are comfortable with the notion of a flat name space for  
processes, and a single communication context, as offered by most  
existing communication libraries,  need only use the predefined  
variable  MPI_COMM_WORLD as the  comm argument.  
This will allow communication with all the processes available at  
initialization time.  
<P> 
Users may define new communicators, as explained in Chapter <a href="node114.htm#Node114">Groups, Contexts, Communicators, and Caching 
</a>.  
Communicators provide an important encapsulation mechanism for libraries and  
modules.  They allow modules to have their own disjoint communication universe  
and their own process numbering scheme.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
<em> Advice  
        to implementors.</em>  
<P> 
The message envelope  
would normally be encoded by a fixed-length message header.  
However, the actual encoding  
is implementation dependent. Some of the information (e.g.,  
source or destination) may be implicit,  and need not be  
explicitly carried by messages. Also, processes may be identified by  
relative ranks, or absolute ids, etc.  
 (<em> End of advice to implementors.</em>) <BR> 

<P>
<HR>
<A HREF="node42.htm#Node42"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node40.htm#Node40"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node44.htm#Node44"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node40.htm#Node40"> Blocking Send and Receive Operations</a>
<b>Next: </b><A HREF="node44.htm#Node44"> Blocking Receive</a>
<b>Previous: </b><A HREF="node42.htm#Node42"> Message Data</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
