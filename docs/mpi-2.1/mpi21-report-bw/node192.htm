<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-inquiry/inquiry.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Determining Whether  MPI Has Finished</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node192">180. Determining Whether  MPI Has Finished</a></H2>
<A HREF="node191.htm#Node191"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node190.htm#Node190"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node193.htm#Node193"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node190.htm#Node190"> Startup</a>
<b>Next: </b><A HREF="node193.htm#Node193"> Portable  MPI Process Startup</a>
<b>Previous: </b><A HREF="node191.htm#Node191"> Allowing User Functions at Process Termination</a>
<P>
  
<P> 
One of the goals of  MPI was to allow for layered libraries.  In  
order for a library to do this cleanly, it needs to know if  MPI is  
active.  In  MPI the function  MPI_INITIALIZED was  
provided to tell if  MPI had been initialized.  The problem arises in  
knowing if  MPI has been finalized.  Once  MPI has been finalized it  
is no longer active and cannot be restarted.  A library needs to be  
able to determine this to act accordingly.  To achieve this the  
following function is needed:  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_FINALIZED(flag)</TD></TR>  
<TR><TD> OUT flag</TD><TD>true if  MPI was finalized (logical)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_Finalized(int *flag) <BR></tt>  
<P> 
 <tt> MPI_FINALIZED(FLAG, IERROR)<BR> LOGICAL FLAG<BR>INTEGER IERROR <BR></tt>  
<P> 
  
 <tt> bool MPI::Is_finalized() <BR></tt>  
  
<P> 
This routine returns  true if  MPI_FINALIZE has completed.  
It is legal to call  MPI_FINALIZED  
before  MPI_INIT and after  MPI_FINALIZE.  
<P> 
  
 
<BR> 
<em> Advice to users.</em>  
<P> 
 MPI is ``active'' and it is thus safe to call  MPI functions if  
 MPI_INIT <em> has</em> completed and  MPI_FINALIZE <em>  
has not</em> completed.  If a library has no other way of knowing whether  
 MPI is active or not, then it can use  MPI_INITIALIZED and  
 MPI_FINALIZED to determine this.  For example,  MPI is ``active''  
in callback functions that are invoked during  MPI_FINALIZE.  
 (<em> End of advice to users.</em>) <BR> 
  
<P> 
  
  

<P>
<HR>
<A HREF="node191.htm#Node191"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node190.htm#Node190"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node193.htm#Node193"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node190.htm#Node190"> Startup</a>
<b>Next: </b><A HREF="node193.htm#Node193"> Portable  MPI Process Startup</a>
<b>Previous: </b><A HREF="node191.htm#Node191"> Allowing User Functions at Process Termination</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
