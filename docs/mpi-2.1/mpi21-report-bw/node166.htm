<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-topol/topol.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Cartesian Convenience Function:  MPI_DIMS_CREATE</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node166">158. Cartesian Convenience Function:  MPI_DIMS_CREATE</a></H2>
<A HREF="node165.htm#Node165"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node164.htm#Node164"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node167.htm#Node167"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node164.htm#Node164"> Topology Constructors</a>
<b>Next: </b><A HREF="node167.htm#Node167"> General (Graph) Constructor</a>
<b>Previous: </b><A HREF="node165.htm#Node165"> Cartesian Constructor</a>
<P>
For Cartesian topologies, the function  MPI_DIMS_CREATE helps the user  
select a balanced distribution of processes per coordinate direction,  
depending on the number of processes in the group to be balanced and optional  
constraints that can be specified by the user.  One use is to partition all  
the processes (the size of  MPI_COMM_WORLD's group) into an  
<I>n</I>-dimensional topology.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_DIMS_CREATE(nnodes, ndims, dims)</TD></TR>  
<TR><TD> IN  nnodes</TD><TD> number of nodes in a grid (integer)</TD></TR>  
<TR><TD> IN  ndims</TD><TD> number of Cartesian dimensions (integer)</TD></TR>  
<TR><TD> INOUT  dims</TD><TD> integer array of size <tt> ndims</tt> specifying the number of nodes in each dimension </TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_Dims_create(int nnodes, int ndims, int *dims) <BR></tt>  
<P> 
 <tt> MPI_DIMS_CREATE(NNODES, NDIMS, DIMS, IERROR)<BR> INTEGER NNODES, NDIMS, DIMS(*), IERROR <BR></tt>  
 <tt> void MPI::Compute_dims(int nnodes, int ndims, int dims[]) <BR></tt>  
  
The entries in the array  dims are set to describe a Cartesian grid  
with  ndims dimensions and a total of  nnodes nodes.  The  
dimensions are set to be as close to each other as possible, using an  
appropriate divisibility algorithm.  The caller may  
further constrain the operation of this routine by specifying elements  
of array <tt> dims</tt>. If <tt> dims[i]</tt> is set to a positive number, the  
routine will not modify the number of nodes in dimension <tt> i</tt>;  
only those entries where <tt> dims[i] = 0</tt> are modified by the call.  
<P> 
Negative input values of <tt> dims[i]</tt> are erroneous.  
An error will occur if <tt> nnodes</tt> is not a multiple of  
<IMG WIDTH=152 HEIGHT=11 SRC="img79.gif">
.  
<P> 
For <tt> dims[i]</tt> set by the call, <tt> dims[i]</tt> will be ordered in  
non-increasing order.  Array <tt> dims</tt> is suitable for use as input to  
routine  MPI_CART_CREATE.   MPI_DIMS_CREATE is local.  
  
<P> 
<BR><b> Example</b>   
  
  
<P> 
<TABLE><TR><TD ALIGN="LEFT">  
<tt> dims</tt></TD><TD ALIGN="LEFT"> function call</TD><TD ALIGN="LEFT"> <tt> dims</tt> </TD></TR> 
<TR><TD ALIGN="LEFT">  
before call</TD><TD ALIGN="LEFT"></TD><TD ALIGN="LEFT"> on return </TD></TR> 
<TR><TD ALIGN="LEFT">  
  
(0,0)</TD><TD ALIGN="LEFT">  MPI_DIMS_CREATE(6, 2, dims)</TD><TD ALIGN="LEFT"> (3,2) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,0)</TD><TD ALIGN="LEFT">  MPI_DIMS_CREATE(7, 2, dims)</TD><TD ALIGN="LEFT"> (7,1) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,3,0)</TD><TD ALIGN="LEFT">  MPI_DIMS_CREATE(6, 3, dims)</TD><TD ALIGN="LEFT"> (2,3,1) </TD></TR> 
<TR><TD ALIGN="LEFT">  
(0,3,0)</TD><TD ALIGN="LEFT">  MPI_DIMS_CREATE(7, 3, dims)</TD><TD ALIGN="LEFT"> erroneous call </TD></TR> 
<TR><TD ALIGN="LEFT">  
  
</TD></TR></TABLE> 
  
   
<P> 

<P>
<HR>
<A HREF="node165.htm#Node165"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node164.htm#Node164"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node167.htm#Node167"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node164.htm#Node164"> Topology Constructors</a>
<b>Next: </b><A HREF="node167.htm#Node167"> General (Graph) Constructor</a>
<b>Previous: </b><A HREF="node165.htm#Node165"> Cartesian Constructor</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
