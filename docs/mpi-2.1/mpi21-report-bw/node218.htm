<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-dynamic/dynamic-2.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Universe Size</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node218">202. Universe Size</a></H2>
<A HREF="node217.htm#Node217"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node217.htm#Node217"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node219.htm#Node219"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node217.htm#Node217"> Other Functionality</a>
<b>Next: </b><A HREF="node219.htm#Node219"> Singleton  MPI_INIT</a>
<b>Previous: </b><A HREF="node217.htm#Node217"> Other Functionality</a>
<P>
  
<P> 
Many ``dynamic''  MPI applications are expected to exist in a static  
runtime environment, in which resources have been allocated before the  
application is run.  When a user (or possibly a batch system) runs one  
of these quasi-static applications, she will usually specify a  
number of processes to start and a total number of processes that are  
expected.  An application simply needs to know how many slots there  
are, i.e., how many processes it should spawn.  
<P> 
MPI provides an attribute on  MPI_COMM_WORLD,  
 MPI_UNIVERSE_SIZE, that allows the application to obtain  
this information in a portable manner.  This attribute indicates the  
total number of processes that are expected. In Fortran, the  
attribute is the integer value. In C, the attribute is a pointer  
to the integer value.   
An application typically  
subtracts the size of  MPI_COMM_WORLD from  
 MPI_UNIVERSE_SIZE to find out how many processes  
it should spawn.  
 MPI_UNIVERSE_SIZE is initialized in  MPI_INIT  
and is not changed by  MPI. If defined, it has the same value on   
all processes of  MPI_COMM_WORLD.  
 MPI_UNIVERSE_SIZE is determined by the application  
startup mechanism in a way not specified by  MPI. (The size  
of  MPI_COMM_WORLD is another example of such a parameter.)  
<P> 
Possibilities for how  MPI_UNIVERSE_SIZE might be set include   
<ul> 
 
<li>A <tt> -universe_size</tt> argument to a program that starts  MPI processes.  
 
<li>Automatic interaction with a batch scheduler to figure  
out how many processors have been allocated to an application.   
 
<li>An environment variable set by the user.  
 
<li>Extra information passed to  MPI_COMM_SPAWN through  
the  info argument.   
</ul> 
<BR> 
An implementation must document how  MPI_UNIVERSE_SIZE  
is set. An implementation may not support  
the ability to set  MPI_UNIVERSE_SIZE, in which  
case the attribute  MPI_UNIVERSE_SIZE is not  
set.   
<P> 
 MPI_UNIVERSE_SIZE is a recommendation, not  
necessarily a hard limit.  For instance, some implementations may  
allow an application to spawn 50 processes per processor, if they are  
requested.  However, it is likely that the user only wants to spawn  
one process per processor.  
<P> 
 MPI_UNIVERSE_SIZE is assumed to have been  
specified when an application was started, and is in essence a  
portable mechanism to allow the user to pass to the application  
(through the  MPI process startup mechanism, such as  
<tt> mpiexec</tt>) a piece of critical  
runtime information. Note that no interaction with the runtime  
environment is required.  
If the runtime environment changes size while an application  
is running,  MPI_UNIVERSE_SIZE is not updated, and  
the application must find out about the change through direct communication   
with the runtime system.   
<P> 

<P>
<HR>
<A HREF="node217.htm#Node217"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node217.htm#Node217"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node219.htm#Node219"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node217.htm#Node217"> Other Functionality</a>
<b>Next: </b><A HREF="node219.htm#Node219"> Singleton  MPI_INIT</a>
<b>Previous: </b><A HREF="node217.htm#Node217"> Other Functionality</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
