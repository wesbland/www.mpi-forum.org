<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-binding/binding-2.tex -->
<!-- with the command
tohtml -default -basedef ../mpi2defs-bw.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi2-forum-tail.htm -Wnoredef -o mpi21-report-bw.tex mpi-report.tex 
-->
<TITLE>Status</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node356">315. Status</a></H2>
<A HREF="node355.htm#Node355"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node351.htm#Node351"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node357.htm#Node357"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node351.htm#Node351"> Language Interoperability</a>
<b>Next: </b><A HREF="node357.htm#Node357"> MPI Opaque Objects</a>
<b>Previous: </b><A HREF="node355.htm#Node355"> Transfer of Handles</a>
<P>
  
<P> 
The following two procedures are provided in C to convert from a  
Fortran status (which is an array of integers) to a C status (which is  
a structure), and vice versa.    
  
The conversion occurs on all the information in status, including that which  
is hidden.  That is, no status information is lost in the conversion. <BR>  
  
  
  
 <tt> int MPI_Status_f2c(MPI_Fint *f_status, MPI_Status *c_status) <BR></tt>  
<P> 
If  f_status is a valid Fortran status, but not the Fortran value of  
 MPI_STATUS_IGNORE or  MPI_STATUSES_IGNORE, then  
 MPI_Status_f2c returns in  c_status a valid C status with  
the same content.  If  f_status is the Fortran value of  
 MPI_STATUS_IGNORE or  MPI_STATUSES_IGNORE, or if  
 f_status is not a valid Fortran status, then the call is erroneous.  
<P> 
The C status has the same source, tag and error code values as the  
Fortran status, and returns the same answers when queried for count,  
elements, and cancellation.  
The conversion function may be called with a Fortran status argument that  
has  
an undefined error field, in which case the value of the error field  
in the C status argument is undefined.  
  
<P> 
Two global variables of type <tt> MPI_Fint*</tt>,  
 MPI_F_STATUS_IGNORE and  MPI_F_STATUSES_IGNORE  
are declared in mpi.h.  They can be used to test, in C, whether  
 f_status is the Fortran value of  MPI_STATUS_IGNORE  
or  MPI_STATUSES_IGNORE, respectively.  These are global  
variables, not C constant expressions and cannot be used in places  
where C requires constant expressions. Their value is defined only  
between the calls to  MPI_INIT and  MPI_FINALIZE  
and should not be changed by user code.  
<P> 
To do the conversion in the other direction, we have the following:  
<P> 
 <tt> int MPI_Status_c2f(MPI_Status *c_status, MPI_Fint *f_status) <BR></tt>  
  
<P> 
This call converts a C status into a Fortran status, and has a behavior  
similar to  MPI_Status_f2c.  That is, the value of  
 c_status must not be either  MPI_STATUS_IGNORE or  
 MPI_STATUSES_IGNORE.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
There is not a separate conversion function for arrays of statuses, since one  
can simply loop through the array, converting each status.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
<em> Rationale.</em>  
<P> 
The handling of  MPI_STATUS_IGNORE is required in order to  
layer libraries with only a C wrapper: if the Fortran call has passed  
 MPI_STATUS_IGNORE, then the C wrapper must handle this  
correctly.  
Note that this constant need not have the same value in  
Fortran and C.  If  MPI_Status_f2c were to handle  
 MPI_STATUS_IGNORE, then the type of its result would have to be  
<tt> MPI_Status**</tt>, which was considered an inferior solution.  
 (<em> End of rationale.</em>) <BR> 
  
<P> 
<P> 
<P> 
  
<P> 

<P>
<HR>
<A HREF="node355.htm#Node355"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node351.htm#Node351"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node357.htm#Node357"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node351.htm#Node351"> Language Interoperability</a>
<b>Next: </b><A HREF="node357.htm#Node357"> MPI Opaque Objects</a>
<b>Previous: </b><A HREF="node355.htm#Node355"> Transfer of Handles</a>
<P>
<HR>
Return to <A HREF="node428.htm">MPI-2.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 1, 2008<BR>
HTML Generated on July 6, 2008
</FONT>
</BODY>
</HTML>
