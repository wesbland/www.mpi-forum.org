<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-topol/topol.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title></title>
</head>
<body style="background-color:#FFFFFF">
<hr><h1><span id="Node200">188. </span></h1>
<a href="node199.htm#Node199"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="mpi31-report.htm#Node0"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node201.htm#Node201"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="mpi31-report.htm#Node0">Contents</a>
<b>Next: </b><a href="node201.htm#Node201"> Neighborhood Gather</a>
<b>Previous: </b><a href="node199.htm#Node199"> Low-Level Topology Functions</a>
<p>
[Neighborhood Collective Communication]Neighborhood Collective Communication on Process Topologies  
  
  
<P> 
MPI process topologies specify a communication graph, but they  
implement no communication function themselves. Many applications  
require sparse nearest neighbor communications that can be expressed as  
graph topologies. We now describe several collective operations that  
perform communication along the edges of a process topology. All of these  
functions are collective; i.e., they must be called by all processes in  
the specified communicator. See Section <a href="node94.htm#Node94">Collective Communication 
</a>   
for an overview  
of other dense (global) collective communication operations  
and the semantics of collective operations.  
<P> 
If the graph was created with <font face="sans-serif"> MPI_DIST_GRAPH_CREATE_ADJACENT</font>  
with <font face="sans-serif"> sources</font> and <font face="sans-serif"> destinations</font> containing   
<font face="sans-serif"> 0, <i>...</i>, n-1</font>, where <font face="sans-serif"> n</font> is the number of processes in the group  
of <font face="sans-serif"> comm_old</font>  
(i.e., the graph is fully connected and also includes   
an edge from each node to itself),  
then the sparse neighborhood communication routine performs the same data exchange  
as the corresponding dense (fully-connected) collective operation.   
In the case of a Cartesian communicator, only nearest neighbor communication  
is provided, corresponding to <font face="sans-serif"> rank_source</font> and <font face="sans-serif"> rank_dest</font>  
in <font face="sans-serif"> MPI_CART_SHIFT</font> with input <font face="sans-serif"> disp</font>=1.  
<P> 
 
<br> 
<em> Rationale.</em>  
<P> 
Neighborhood collective communications enable communication on a process  
topology. This high-level specification of data exchange among  
neighboring processes enables optimizations in the <font face="sans-serif"> MPI</font> library because  
the communication pattern is known statically (the topology).  
Thus, the implementation can compute optimized message schedules during  
creation of the topology [<a href="node522.htm#-Bib35">35</a>]. This  
functionality can significantly simplify the implementation of neighbor  
exchanges [<a href="node522.htm#-Bib31">31</a>].  
 (<em> End of rationale.</em>) <br> 
For a distributed graph topology, created with  
<font face="sans-serif"> MPI_DIST_GRAPH_CREATE</font>, the sequence of neighbors in the  
send and receive buffers at each process is defined as the sequence  
returned by <font face="sans-serif"> MPI_DIST_GRAPH_NEIGHBORS</font> for destinations and  
sources, respectively. For a general graph topology, created with  
<font face="sans-serif"> MPI_GRAPH_CREATE</font>, the use of neighborhood collective  
communication is restricted to adjacency matrices, where the number of  
edges between any two processes is defined to be the same for both  
processes (i.e., with a symmetric adjacency matrix). In this case,   
the order of neighbors in the send and  
receive buffers is defined as the sequence of neighbors as returned by  
<font face="sans-serif"> MPI_GRAPH_NEIGHBORS</font>. Note that general graph topologies  
should generally be replaced by the distributed graph topologies.  
<P> 
For a Cartesian topology, created with <font face="sans-serif"> MPI_CART_CREATE</font>, the  
sequence of neighbors in the send and receive buffers at each process is  
defined by order of the dimensions, first the neighbor in the negative  
direction and then in the positive direction with displacement 1.  The  
numbers of sources and destinations in the communication routines are  
<font face="sans-serif"> 2*ndims</font> with <font face="sans-serif"> ndims</font> defined in  
<font face="sans-serif"> MPI_CART_CREATE</font>. If a neighbor does not exist, i.e., at the  
border of a Cartesian topology in the case of a non-periodic virtual  
grid dimension (i.e., <font face="sans-serif"> periods[<i>...</i>]==false</font>), then this neighbor is  
defined to be <font face="sans-serif">  MPI_PROC_NULL</font>.  
<P> 
If a neighbor in any of the functions is <font face="sans-serif">  MPI_PROC_NULL</font>, then  
the neighborhood collective communication behaves like a point-to-point  
communication with <font face="sans-serif">  MPI_PROC_NULL</font> in this direction. That is,  
the buffer is still part of the sequence of neighbors but it is neither  
communicated nor updated.    
<P> 
<ul> 
</ul> 

<P>
<hr>
<a href="node199.htm#Node199"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="mpi31-report.htm#Node0"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node201.htm#Node201"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="mpi31-report.htm#Node0">Contents</a>
<b>Next: </b><a href="node201.htm#Node201"> Neighborhood Gather</a>
<b>Previous: </b><a href="node199.htm#Node199"> Low-Level Topology Functions</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
