<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-context/context.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Functionality</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node173">164. Functionality</span></h2>
<a href="node172.htm#Node172"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node172.htm#Node172"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node174.htm#Node174"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node172.htm#Node172"> Caching</a>
<b>Next: </b><a href="node174.htm#Node174"> Communicators</a>
<b>Previous: </b><a href="node172.htm#Node172"> Caching</a>
<p>
  
<P> 
Attributes   
can be  
attached to communicators,  
windows, and datatypes.   
Attributes are local to the process and specific to the communicator  
to which they are attached.  Attributes are not propagated by <font face="sans-serif"> MPI</font> from one  
communicator to another except when the communicator is duplicated  
using <font face="sans-serif"> MPI_COMM_DUP</font> or <font face="sans-serif"> MPI_COMM_IDUP</font> (and even  
then the application must give  
specific permission through  
callback functions for the attribute to be copied).  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
Attributes in C are of type <font face="sans-serif">  void *</font>.  Typically, such an attribute  
will be a pointer to a structure that contains further information, or  
a handle to an <font face="sans-serif"> MPI</font> object.  
In Fortran, attributes are of type <font face="sans-serif">  INTEGER</font>.  Such attribute  
can be a handle to an <font face="sans-serif"> MPI</font> object, or just an integer-valued  
attribute.  
 (<em> End of advice to users.</em>) <br> 
 
<br> 
<em> Advice  
        to implementors.</em>  
<P> 
Attributes are scalar values, equal in size to, or larger than a C-language  
pointer.  Attributes can always hold an <font face="sans-serif"> MPI</font> handle.  
 (<em> End of advice to implementors.</em>) <br> 
The caching interface defined here   
requires  
that attributes be  
stored by <font face="sans-serif"> MPI</font> opaquely within a communicator,  
window, and datatype.   
Accessor functions include the following:  
<ul> 
 
<li>obtain a key value (used to identify an attribute); the user  
 specifies ``callback'' functions by which <font face="sans-serif"> MPI</font> informs the application  
 when the communicator is destroyed or  
 copied.  
 
<li>store and retrieve the value of an attribute;  
</ul> 
<br> 
 
<br> 
<em> Advice  
        to implementors.</em>  
<P> 
Caching and callback functions are only called synchronously,  
in response to explicit application requests.  This avoids problems  
that result from repeated crossings between user and system space.  
(This synchronous calling rule is a general property of <font face="sans-serif"> MPI</font>.)  
<P> 
The choice of key values is under control of <font face="sans-serif"> MPI</font>.  This allows <font face="sans-serif"> MPI</font> to optimize  
its implementation of attribute sets.  It also avoids conflict between  
independent modules caching information on the same communicators.  
<P> 
A much smaller interface, consisting of just a callback facility, would allow  
the entire caching facility to be implemented by portable code.  However, with  
the minimal callback interface, some form of table searching is implied by the  
need to handle arbitrary communicators.  In contrast, the more complete  
interface defined here permits rapid access to attributes through the use of  
pointers in communicators (to find the attribute table) and cleverly chosen  
key values (to retrieve individual attributes).  In light of the efficiency  
``hit'' inherent in the minimal interface, the more complete interface defined  
here is seen to be superior.  
 (<em> End of advice to implementors.</em>) <br> 
 <font face="sans-serif"> MPI</font> provides the following services related to caching.  They are  
all process local.  
<P> 

<P>
<hr>
<a href="node172.htm#Node172"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node172.htm#Node172"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node174.htm#Node174"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node172.htm#Node172"> Caching</a>
<b>Next: </b><a href="node174.htm#Node174"> Communicators</a>
<b>Previous: </b><a href="node172.htm#Node172"> Caching</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
