<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-changes/changes.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Changes in <font face="sans-serif"> MPI-3.0</font></title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node519">445. Changes in  MPI-3.0</span></h2>
<a href="node518.htm#Node518"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node517.htm#Node517"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node520.htm#Node520"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node517.htm#Node517"> Changes from Version 2.2 to Version 3.0</a>
<b>Next: </b><a href="node520.htm#Node520"> Changes from Version 2.1 to Version 2.2</a>
<b>Previous: </b><a href="node518.htm#Node518"> Fixes to Errata in Previous Versions of <font face="sans-serif"> MPI</font></a>
<p>
<ol> 
 
1. Section <a href="node34.htm#Node34">Deprecated and Removed Names and Functions 
</a> on page <a href="node34.htm#Node34">Deprecated and Removed Names and Functions 
</a>,  
Section <a href="node405.htm#Node405">C++ Bindings 
</a> on page <a href="node405.htm#Node405">C++ Bindings 
</a> and all other chapters.   
<br>  
The C++ bindings were removed from the standard.  
See errata   
in Section <a href="node518.htm#Node518">Fixes to Errata in Previous Versions of <font face="sans-serif"> MPI</font> 
</a> on page <a href="node518.htm#Node518">Fixes to Errata in Previous Versions of <font face="sans-serif"> MPI</font> 
</a>  
for the latest changes to the <font face="sans-serif"> MPI</font> C++ binding defined in <font face="sans-serif"> MPI-2.2</font>.   
<br>This change may affect backward compatibility.  
<P> 
 
<br> 
2. Section <a href="node34.htm#Node34">Deprecated and Removed Names and Functions 
</a> on page <a href="node34.htm#Node34">Deprecated and Removed Names and Functions 
</a>,  
Section <a href="node396.htm#Node396">Deprecated since <font face="sans-serif"> MPI-2.0</font> 
</a> on page <a href="node396.htm#Node396">Deprecated since <font face="sans-serif"> MPI-2.0</font> 
</a> and  
Section <a href="node399.htm#Node399">Removed <font face="sans-serif"> MPI-1</font> Bindings 
</a> on page <a href="node399.htm#Node399">Removed <font face="sans-serif"> MPI-1</font> Bindings 
</a>.  
<br>  
The deprecated functions   
<font face="sans-serif"> MPI_TYPE_HVECTOR</font>,  
<font face="sans-serif"> MPI_TYPE_HINDEXED</font>,  
<font face="sans-serif"> MPI_TYPE_STRUCT</font>,  
<font face="sans-serif"> MPI_ADDRESS</font>,  
<font face="sans-serif"> MPI_TYPE_EXTENT</font>,  
<font face="sans-serif"> MPI_TYPE_LB</font>,  
<font face="sans-serif"> MPI_TYPE_UB</font>,  
<font face="sans-serif"> MPI_ERRHANDLER_CREATE</font>   
(and its callback function prototype <font face="sans-serif">  MPI_Handler_function</font>),  
<font face="sans-serif"> MPI_ERRHANDLER_SET</font>,  
<font face="sans-serif"> MPI_ERRHANDLER_GET</font>,  
the deprecated special datatype handles  
<font face="sans-serif">  MPI_LB</font>,  
<font face="sans-serif">  MPI_UB</font>,  
and the constants  
<font face="sans-serif">  MPI_COMBINER_HINDEXED_INTEGER</font>,  
<font face="sans-serif">  MPI_COMBINER_HVECTOR_INTEGER</font>,  
<font face="sans-serif">  MPI_COMBINER_STRUCT_INTEGER</font>  
were removed from the standard.   
<br>This change may affect backward compatibility.  
<P> 
 
<br> 
3. Section <a href="node22.htm#Node22">Procedure Specification 
</a> on page <a href="node22.htm#Node22">Procedure Specification 
</a>.   
<br>  
Clarified parameter usage for IN parameters. C bindings are now const-correct where  
backward compatibility is preserved.   
<P> 
 
<br> 
4. Section <a href="node28.htm#Node28">Named Constants 
</a> on page <a href="node28.htm#Node28">Named Constants 
</a> and  
Section <a href="node195.htm#Node195">Distributed Graph Constructor 
</a> on page <a href="node195.htm#Node195">Distributed Graph Constructor 
</a>.   
<br>  
The recommended C implementation value for <font face="sans-serif">  MPI_UNWEIGHTED</font>   
changed from NULL to non-NULL.   
An additional weight array constant (<font face="sans-serif">  MPI_WEIGHTS_EMPTY</font>) was introduced.  
<P> 
 
<br> 
5. Section <a href="node28.htm#Node28">Named Constants 
</a> on page <a href="node28.htm#Node28">Named Constants 
</a> and   
Section <a href="node209.htm#Node209">Version Inquiries 
</a> on page <a href="node209.htm#Node209">Version Inquiries 
</a>.   
<br>  
Added the new routine <font face="sans-serif"> MPI_GET_LIBRARY_VERSION</font>   
to query library specific versions,  
and the new constant <font face="sans-serif">  MPI_MAX_LIBRARY_VERSION_STRING</font>.  
<P> 
 
<br> 
6. Sections <a href="node32.htm#Node32">Counts 
</a>, <a href="node48.htm#Node48">Message Data 
</a>,  
<a href="node48.htm#Table3">3 
</a>, <a href="node112.htm#Node112">Predefined Reduction Operations 
</a>,   
on pages <a href="node32.htm#Node32">Counts 
</a>, <a href="node48.htm#Node48">Message Data 
</a>,  
<a href="node48.htm#Table3">3 
</a>, <a href="node112.htm#Node112">Predefined Reduction Operations 
</a>,  
Sections <a href="node77.htm#Node77">Derived Datatypes 
</a>,<a href="node84.htm#Node84">Extent and Bounds of Datatypes 
</a>,<a href="node85.htm#Node85">True Extent of Datatypes 
</a>,<a href="node88.htm#Node88">Use of General Datatypes in Communication 
</a>,<a href="node299.htm#Node299">Associating Information with Status 
</a>on pages <a href="node77.htm#Node77">Derived Datatypes 
</a>,<a href="node84.htm#Node84">Extent and Bounds of Datatypes 
</a>,<a href="node85.htm#Node85">True Extent of Datatypes 
</a>,<a href="node88.htm#Node88">Use of General Datatypes in Communication 
</a>,<a href="node299.htm#Node299">Associating Information with Status 
</a>,and  
Annex <a href="node459.htm#Node459">Defined Constants 
</a> on page <a href="node459.htm#Node459">Defined Constants 
</a>.  
<br>  
New inquiry functions, <font face="sans-serif"> MPI_TYPE_SIZE_X</font>, <font face="sans-serif"> MPI_TYPE_GET_EXTENT_X</font>,  
<font face="sans-serif"> MPI_TYPE_GET_TRUE_EXTENT_X</font>, and <font face="sans-serif"> MPI_GET_ELEMENTS_X</font>, return their results  
as an <font face="sans-serif">  MPI_Count</font> value, which is a new type large enough to represent element  
counts in memory, file views, etc. A new function, <font face="sans-serif"> MPI_STATUS_SET_ELEMENTS_X</font>,  
modifies the opaque part of an <font face="sans-serif">  MPI_Status</font> object so that a call to <font face="sans-serif"> MPI_GET_ELEMENTS_X</font>  
returns the provided <font face="sans-serif">  MPI_Count</font> value (in Fortran, <tt> INTEGER (KIND=MPI_COUNT_KIND)</tt>).  
The corresponding predefined datatype is <font face="sans-serif">  MPI_COUNT</font>.    
<P> 
 
<br> 
7. Chapter <a href="node44.htm#Node44">Point-to-Point Communication 
</a> on page <a href="node44.htm#Node44">Point-to-Point Communication 
</a> until  
Chapter <a href="node406.htm#Node406">Language Bindings 
</a> on page <a href="node406.htm#Node406">Language Bindings 
</a>.  
<br>  
In the C language bindings, the array-arguments' interfaces were modified to consistently   
use use <tt>[]</tt> instead of <tt>*</tt>.  
<P> 
Exceptions are <font face="sans-serif"> MPI_INIT</font>, which continues to use   
<tt>char ***argv</tt>   
(correct because of subtle rules regarding the use of   
the <tt>&amp;</tt> operator with <tt>char *argv[]</tt>),   
and <font face="sans-serif"> MPI_INIT_THREAD</font>, which is changed to be   
consistent with <font face="sans-serif"> MPI_INIT</font>.  
 <P> 
 
<br> 
8. Sections <a href="node51.htm#Node51">Return Status 
</a>,<a href="node82.htm#Node82">Address and Size Functions 
</a>,<a href="node88.htm#Node88">Use of General Datatypes in Communication 
</a>,<a href="node92.htm#Node92">Pack and Unpack 
</a>on pages <a href="node51.htm#Node51">Return Status 
</a>,   
<a href="node82.htm#Node82">Address and Size Functions 
</a>,  
<a href="node88.htm#Node88">Use of General Datatypes in Communication 
</a>,   
<a href="node92.htm#Node92">Pack and Unpack 
</a>.  
<br>  
The functions <font face="sans-serif"> MPI_GET_COUNT</font> and <font face="sans-serif"> MPI_GET_ELEMENTS</font> were  
defined to set the <font face="sans-serif"> count</font> argument to <font face="sans-serif">  MPI_UNDEFINED</font> when that argument  
would overflow.   
The functions <font face="sans-serif"> MPI_PACK_SIZE</font> and <font face="sans-serif"> MPI_TYPE_SIZE</font> were   
defined to set the <font face="sans-serif"> size</font> argument to <font face="sans-serif">  MPI_UNDEFINED</font> when that argument   
would overflow. In all other <font face="sans-serif"> MPI-2.2</font>  
routines, the type and semantics of the count arguments remain unchanged, i.e., <tt> int</tt>  
or <tt> INTEGER</tt>.   
 <P> 
 
<br> 
9. Section <a href="node52.htm#Node52">Passing <font face="sans-serif">  MPI_STATUS_IGNORE</font> for Status 
</a> on page <a href="node52.htm#Node52">Passing <font face="sans-serif">  MPI_STATUS_IGNORE</font> for Status 
</a>, and  
Section <a href="node68.htm#Node68">Probe and Cancel 
</a> on page <a href="node68.htm#Node68">Probe and Cancel 
</a>.  
<br>  
<font face="sans-serif">  MPI_STATUS_IGNORE</font> can be also used in   
<font face="sans-serif"> MPI_IPROBE</font>, <font face="sans-serif"> MPI_PROBE</font>,  
<font face="sans-serif"> MPI_IMPROBE</font>, and <font face="sans-serif"> MPI_MPROBE</font>.  
<P> 
 
<br> 
10. Section <a href="node68.htm#Node68">Probe and Cancel 
</a> on page <a href="node68.htm#Node68">Probe and Cancel 
</a> and    
Section <a href="node75.htm#Node75">Null Processes 
</a> on page <a href="node75.htm#Node75">Null Processes 
</a>.   
<br>  
The use of <font face="sans-serif">  MPI_PROC_NULL</font> in probe operations was clarified.   
A special predefined message <font face="sans-serif">  MPI_MESSAGE_NO_PROC</font>   
was defined for the use of matching probe   
(i.e., the new <font face="sans-serif"> MPI_MPROBE</font> and <font face="sans-serif"> MPI_IMPROBE</font>)   
with <font face="sans-serif">  MPI_PROC_NULL</font>.   
 <P> 
 
<br> 
11. Sections <a href="node70.htm#Node70">Matching Probe 
</a>,   
<a href="node71.htm#Node71">Matched Receives 
</a>,   
<a href="node446.htm#Node446">Transfer of Handles 
</a>,   
<a href="node459.htm#Node459">Defined Constants 
</a>  
on pages <a href="node70.htm#Node70">Matching Probe 
</a>,  
<a href="node71.htm#Node71">Matched Receives 
</a>,  
<a href="node446.htm#Node446">Transfer of Handles 
</a>,  
<a href="node459.htm#Node459">Defined Constants 
</a>.   
<br>  
Like <font face="sans-serif"> MPI_PROBE</font> and <font face="sans-serif"> MPI_IPROBE</font>, the new <font face="sans-serif"> MPI_MPROBE</font> and <font face="sans-serif"> MPI_IMPROBE</font>   
operations allow incoming messages to be queried without actually receiving them, except that  
<font face="sans-serif"> MPI_MPROBE</font> and <font face="sans-serif"> MPI_IMPROBE</font> provide a mechanism to receive the specific message  
with the new routines <font face="sans-serif"> MPI_MRECV</font> and <font face="sans-serif"> MPI_IMRECV</font> regardless of other intervening probe or receive operations.   
The opaque object <font face="sans-serif">  MPI_Message</font>, the null handle <font face="sans-serif">  MPI_MESSAGE_NULL</font>, and  
the conversion functions    
<font face="sans-serif"> MPI_Message_c2f</font> and  
<font face="sans-serif"> MPI_Message_f2c</font>   
were defined.   
<P> 
 
<br> 
12. Section <a href="node79.htm#Node79">Datatype Constructors 
</a> on page <a href="node79.htm#Node79">Datatype Constructors 
</a> and  
Section <a href="node90.htm#Node90">Decoding a Datatype 
</a> on page <a href="node90.htm#Node90">Decoding a Datatype 
</a>.   
<br>  
The routine <font face="sans-serif"> MPI_TYPE_CREATE_HINDEXED_BLOCK</font>   
and constant <font face="sans-serif">  MPI_COMBINER_HINDEXED_BLOCK</font> were added.  
<P> 
 
<br> 
13. Chapter <a href="node94.htm#Node94">Collective Communication 
</a> on page <a href="node94.htm#Node94">Collective Communication 
</a> and  
Section <a href="node126.htm#Node126">Nonblocking Collective Operations 
</a> on page <a href="node126.htm#Node126">Nonblocking Collective Operations 
</a>.   
<br>  
Added nonblocking interfaces to all collective operations.  
<P> 
 
<br> 
14. Sections <a href="node156.htm#Node156">Communicator Constructors 
</a>,   
<a href="node158.htm#Node158">Communicator Info 
</a>,<a href="node267.htm#Node267">Window Info 
</a>,on pages <a href="node156.htm#Node156">Communicator Constructors 
</a>,  
<a href="node158.htm#Node158">Communicator Info 
</a>,<a href="node267.htm#Node267">Window Info 
</a>.<br>  
The new routines <font face="sans-serif"> MPI_COMM_DUP_WITH_INFO</font>,   
<font face="sans-serif"> MPI_COMM_SET_INFO</font>, <font face="sans-serif"> MPI_COMM_GET_INFO</font>,   
<font face="sans-serif"> MPI_WIN_SET_INFO</font>, and <font face="sans-serif"> MPI_WIN_GET_INFO</font> wereadded.  
The routine <font face="sans-serif"> MPI_COMM_DUP</font> must also duplicate   
info hints.   
<P> 
 
<br> 
15. Section <a href="node156.htm#Node156">Communicator Constructors 
</a> on page <a href="node156.htm#Node156">Communicator Constructors 
</a>.   
<br>  
Added <font face="sans-serif"> MPI_COMM_IDUP</font>.   
<P> 
 
<br> 
16. Section <a href="node156.htm#Node156">Communicator Constructors 
</a> on page <a href="node156.htm#Node156">Communicator Constructors 
</a>.   
<br>  
Added the new communicator construction routine <font face="sans-serif"> MPI_COMM_CREATE_GROUP</font>, which is  
invoked only by the processes in the group of the new communicator being constructed.  
<P> 
 
<br> 
17. Section <a href="node156.htm#Node156">Communicator Constructors 
</a> on page <a href="node156.htm#Node156">Communicator Constructors 
</a>.   
<br>  
Added the <font face="sans-serif"> MPI_COMM_SPLIT_TYPE</font> routine  
and the communicator split type constant <font face="sans-serif">  MPI_COMM_TYPE_SHARED</font>.  
<P> 
 
<br> 
18. Section <a href="node168.htm#Node168">Inter-communicator Operations 
</a> on page <a href="node168.htm#Node168">Inter-communicator Operations 
</a>.   
<br>  
In <font face="sans-serif"> MPI-2.2</font>, communication involved in an  <font face="sans-serif"> MPI_INTERCOMM_CREATE</font> operation   
could interfere with point-to-point communication on the parent   
communicator with the same tag or <font face="sans-serif">  MPI_ANY_TAG</font>.  This interference has   
been removed in <font face="sans-serif"> MPI-3.0</font>.  
<P> 
 
<br> 
19. Section <a href="node179.htm#Node179">Naming Objects 
</a> on page <a href="node179.htm#Node179">Naming Objects 
</a>.   
<br>  
Section 6.8 on page 238.  
The constant <font face="sans-serif">  MPI_MAX_OBJECT_NAME</font> also applies for type and window names.   
<P> 
 
<br> 
20. Section <a href="node199.htm#Node199">Low-Level Topology Functions 
</a> on page <a href="node199.htm#Node199">Low-Level Topology Functions 
</a>.   
<br>  
<font face="sans-serif"> MPI_CART_MAP</font> can also be used for a zero-dimensional topologies.   
<P> 
 
<br> 
21. Section <a href="node200.htm#Node200"> 
</a> on page <a href="node200.htm#Node200"> 
</a> and  
Section <a href="node203.htm#Node203"> 
</a> on page <a href="node203.htm#Node203"> 
</a>.  
<br>  
The following neighborhood collective communication routines   
were added to support sparse communication on virtual topology grids:   
<font face="sans-serif"> MPI_NEIGHBOR_ALLGATHER</font>, <font face="sans-serif"> MPI_NEIGHBOR_ALLGATHERV</font>,   
<font face="sans-serif"> MPI_NEIGHBOR_ALLTOALL</font>, <font face="sans-serif"> MPI_NEIGHBOR_ALLTOALLV</font>,  
<font face="sans-serif"> MPI_NEIGHBOR_ALLTOALLW</font> and the nonblocking variants    
<font face="sans-serif"> MPI_INEIGHBOR_ALLGATHER</font>, <font face="sans-serif"> MPI_INEIGHBOR_ALLGATHERV</font>,  
<font face="sans-serif"> MPI_INEIGHBOR_ALLTOALL</font>, <font face="sans-serif"> MPI_INEIGHBOR_ALLTOALLV</font>, and  
<font face="sans-serif"> MPI_INEIGHBOR_ALLTOALLW</font>.  
The displacement arguments in <font face="sans-serif"> MPI_NEIGHBOR_ALLTOALLW</font>  
and <font face="sans-serif"> MPI_INEIGHBOR_ALLTOALLW</font> were defined as address size integers.  
In <font face="sans-serif"> MPI_DIST_GRAPH_NEIGHBORS</font>, an ordering rule was added  
for communicators created with <font face="sans-serif"> MPI_DIST_GRAPH_CREATE_ADJACENT</font>.    
<P> 
 
<br> 
22. Section <a href="node225.htm#Node225">Startup 
</a> on page <a href="node225.htm#Node225">Startup 
</a> and  
Section <a href="node303.htm#Node303">Initialization 
</a> on page <a href="node303.htm#Node303">Initialization 
</a>.   
<br>  
The use of <font face="sans-serif"> MPI_INIT</font>, <font face="sans-serif"> MPI_INIT_THREAD</font> and <font face="sans-serif"> MPI_FINALIZE</font>  
was clarified.   
After <font face="sans-serif"> MPI</font> is initialized, the application can access information about the execution  
environment by querying the new predefined info object <font face="sans-serif">  MPI_INFO_ENV</font>.  
<P> 
 
<br> 
23. Section <a href="node225.htm#Node225">Startup 
</a> on page <a href="node225.htm#Node225">Startup 
</a>.   
<br>  
Allow calls to <font face="sans-serif"> MPI_T</font> routines before <font face="sans-serif"> MPI_INIT</font>  
and after <font face="sans-serif"> MPI_FINALIZE</font>.   
<P> 
 
<br> 
24. Chapter <a href="node258.htm#Node258">One-Sided Communications 
</a> on page <a href="node258.htm#Node258">One-Sided Communications 
</a>.  
<br>  
Substantial revision of the entire One-sided chapter, with new routines for window creation,   
additional synchronization methods in passive target communication, new one-sided communication routines,   
a new memory model, and other changes.   
<P> 
 
<br> 
25. Section <a href="node372.htm#Node372">The <font face="sans-serif"> MPI</font> Tool Information Interface 
</a> on page <a href="node372.htm#Node372">The <font face="sans-serif"> MPI</font> Tool Information Interface 
</a>.   
<br>  
A new <font face="sans-serif"> MPI</font> Tool Information Interface was added.  
 <P> 
  
The following changes are related to the Fortran language support.  
 <P> 
 
<br> 
26. Section <a href="node22.htm#Node22">Procedure Specification 
</a> on page <a href="node22.htm#Node22">Procedure Specification 
</a>,   
and Sections <a href="node408.htm#Node408">Overview 
</a>, <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>   
on pages <a href="node408.htm#Node408">Overview 
</a>, <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, and <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
The new <tt>mpi_08</tt> Fortran module was introduced.   
 <P> 
 
<br> 
27. Section <a href="node25.htm#Node25">Opaque Objects 
</a> on page <a href="node25.htm#Node25">Opaque Objects 
</a>,   
and Sections <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>   
on pages <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, and <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
Handles to opaque objects were defined as named types within the <tt>mpi_08</tt> Fortran module.   
The operators <tt>.EQ.</tt>, <tt>.NE.</tt>, <tt>==</tt>, and <tt>/=</tt> were overloaded to allow the comparison of these handles.   
The handle types and the overloaded operators are also available through the <tt>mpi</tt> Fortran module.  
 <P> 
 <P> 
 
<br> 
28. Sections <a href="node28.htm#Node28">Named Constants 
</a>, <a href="node29.htm#Node29">Choice 
</a>   
on pages <a href="node28.htm#Node28">Named Constants 
</a>, <a href="node29.htm#Node29">Choice 
</a>,    
Sections <a href="node408.htm#Node408">Overview 
</a>, <a href="node420.htm#Node420">Problems With Fortran Bindings for <font face="sans-serif"> MPI</font> 
</a>,   
<a href="node421.htm#Node421">Problems Due to Strong Typing 
</a>, <a href="node422.htm#Node422">Problems Due to Data Copying and Sequence Association with Subscript Triplets 
</a>,   
<a href="node423.htm#Node423">Problems Due to Data Copying and Sequence Association with Vector Subscripts 
</a>  
on pages <a href="node408.htm#Node408">Overview 
</a>, <a href="node420.htm#Node420">Problems With Fortran Bindings for <font face="sans-serif"> MPI</font> 
</a>,   
<a href="node421.htm#Node421">Problems Due to Strong Typing 
</a>, <a href="node422.htm#Node422">Problems Due to Data Copying and Sequence Association with Subscript Triplets 
</a>,   
<a href="node423.htm#Node423">Problems Due to Data Copying and Sequence Association with Vector Subscripts 
</a>, and  
Sections <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>  
on pages <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
Within the <tt>mpi_08</tt> Fortran module,   
choice buffers were defined as assumed-type and assumed-rank   
according to Fortran 2008 TS 29113 [<a href="node522.htm#-Bib41">41</a>],  
and the compile-time constant <font face="sans-serif">  MPI_SUBARRAYS_SUPPORTED</font> was set to <tt> .TRUE.</tt>.  
With this, Fortran subscript triplets can be used in nonblocking <font face="sans-serif"> MPI</font> operations;  
vector subscripts are not supported in nonblocking operations.   
If the compiler does not support this Fortran TR 29113 feature,   
the constant is set to <tt> .FALSE.</tt>.  
 <P> 
 
<br> 
29. Section <a href="node35.htm#Node35">Fortran Binding Issues 
</a> on page <a href="node35.htm#Node35">Fortran Binding Issues 
</a>,  
Section <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a> on page <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, and  
Section <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a> on page <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
The <font face="sans-serif"> ierror</font> dummy arguments are <tt> OPTIONAL</tt> within the <tt>mpi_08</tt> Fortran module.   
 <P> 
 
<br> 
30. Section <a href="node51.htm#Node51">Return Status 
</a> on page <a href="node51.htm#Node51">Return Status 
</a>,  
Sections <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>,   
on pages <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>, <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>,   
and Section <a href="node447.htm#Node447">Status 
</a> on page <a href="node447.htm#Node447">Status 
</a>.   
<br>  
Within the <tt>mpi_08</tt> Fortran module,  
the status was defined as <tt> TYPE(MPI_Status)</tt>.   
Additionally, within both the <tt>mpi</tt> and the <tt>mpi_f08</tt> modules,  
the constants <font face="sans-serif">  MPI_STATUS_SIZE</font>,   
<font face="sans-serif">  MPI_SOURCE</font>, <font face="sans-serif">  MPI_TAG</font>, <font face="sans-serif">  MPI_ERROR</font>,  
and <tt> TYPE(MPI_Status)</tt>  
are defined.  
New conversion routines were added:   
<font face="sans-serif"> MPI_STATUS_F2F08</font>,   
<font face="sans-serif"> MPI_STATUS_F082F</font>,   
<font face="sans-serif"> MPI_Status_c2f08</font>, and  
<font face="sans-serif"> MPI_Status_f082c</font>,   
In <tt>mpi.h</tt>, the new type <tt> MPI_F08_status</tt>,   
and the external variables <font face="sans-serif">  MPI_F08_STATUS_IGNORE</font> and <font face="sans-serif">  MPI_F08_STATUSES_IGNORE</font> were added.   
 <P> 
 
<br> 
31. Section <a href="node59.htm#Node59">Buffer Allocation and Usage 
</a> on page <a href="node59.htm#Node59">Buffer Allocation and Usage 
</a>.  
<br>  
In Fortran with the <tt>mpi</tt> module or <tt>mpif.h</tt>,   
the type of the <font face="sans-serif"> buffer_addr</font> argument of <font face="sans-serif"> MPI_BUFFER_DETACH</font>  
is incorrectly defined and the argument is therefore unused.  
 <P> 
 
<br> 
32. Section <a href="node77.htm#Node77">Derived Datatypes 
</a> on page <a href="node77.htm#Node77">Derived Datatypes 
</a>,  
Section <a href="node83.htm#Node83">Lower-Bound and Upper-Bound Markers 
</a> on page <a href="node83.htm#Node83">Lower-Bound and Upper-Bound Markers 
</a>, and  
Section <a href="node425.htm#Node425">Fortran Derived Types 
</a> on page <a href="node425.htm#Node425">Fortran Derived Types 
</a>.  
<br>  
The Fortran alignments of basic datatypes within Fortran derived types  
are implementation dependent;   
therefore it is recommended to use the <tt> BIND(C)</tt> attribute for derived types  
in <font face="sans-serif"> MPI</font> communication buffers.   
If an array of structures (in C/C++) or derived types (in Fortran)   
is to be used in <font face="sans-serif"> MPI</font> communication buffers,   
it is recommended that the user creates a portable datatype handle and   
additionally applies <font face="sans-serif"> MPI_TYPE_CREATE_RESIZED</font> to this datatype handle.  
<P> 
 
<br> 
33. Sections<a href="node87.htm#Node87">Duplicating a Datatype 
</a>,  
<a href="node115.htm#Node115">User-Defined Reduction Operations 
</a>,  
<a href="node118.htm#Node118">Process-Local Reduction 
</a>,  
<a href="node176.htm#Node176">Datatypes 
</a>,  
<a href="node179.htm#Node179">Naming Objects 
</a>,  
<a href="node218.htm#Node218">Error Handlers for Communicators 
</a>,  
<a href="node219.htm#Node219">Error Handlers for Windows 
</a>,  
<a href="node220.htm#Node220">Error Handlers for Files 
</a>,  
<a href="node396.htm#Node396">Deprecated since <font face="sans-serif"> MPI-2.0</font> 
</a>,  
<a href="node416.htm#Node416">Additional Support for Fortran Numeric Intrinsic Types 
</a>  
on pages<a href="node87.htm#Node87">Duplicating a Datatype 
</a>,  
<a href="node115.htm#Node115">User-Defined Reduction Operations 
</a>,  
<a href="node118.htm#Node118">Process-Local Reduction 
</a>,  
<a href="node176.htm#Node176">Datatypes 
</a>,  
<a href="node179.htm#Node179">Naming Objects 
</a>,  
<a href="node218.htm#Node218">Error Handlers for Communicators 
</a>,  
<a href="node219.htm#Node219">Error Handlers for Windows 
</a>,  
<a href="node220.htm#Node220">Error Handlers for Files 
</a>,  
<a href="node396.htm#Node396">Deprecated since <font face="sans-serif"> MPI-2.0</font> 
</a>, and  
<a href="node416.htm#Node416">Additional Support for Fortran Numeric Intrinsic Types 
</a>.  
In some routines, the dummy argument names were changed because they  
were identical to the Fortran keywords <tt> TYPE</tt> and <tt> FUNCTION</tt>.  
The new dummy argument names must be used because the  
<tt>mpi</tt> and <tt>mpi_08</tt> modules guarantee keyword-based actual argument lists.   
The argument name <font face="sans-serif"> type</font> was changed   
  in <font face="sans-serif"> MPI_TYPE_DUP</font>,  
    the Fortran <tt> USER_FUNCTION</tt> of <font face="sans-serif"> MPI_OP_CREATE</font>,  
    <font face="sans-serif"> MPI_TYPE_SET_ATTR</font>,  
    <font face="sans-serif"> MPI_TYPE_GET_ATTR</font>,  
    <font face="sans-serif"> MPI_TYPE_DELETE_ATTR</font>,  
    <font face="sans-serif"> MPI_TYPE_SET_NAME</font>,  
    <font face="sans-serif"> MPI_TYPE_GET_NAME</font>,  
    <font face="sans-serif"> MPI_TYPE_MATCH_SIZE</font>,  
  the callback prototype definition    
    <font face="sans-serif"> MPI_Type_delete_attr_function</font>,  
  and the predefined callback function  
    <font face="sans-serif"> MPI_TYPE_NULL_DELETE_FN</font>;  
<font face="sans-serif"> function</font> was changed  
    in <font face="sans-serif"> MPI_OP_CREATE</font>,  
       <font face="sans-serif"> MPI_COMM_CREATE_ERRHANDLER</font>,  
       <font face="sans-serif"> MPI_WIN_CREATE_ERRHANDLER</font>,  
       <font face="sans-serif"> MPI_FILE_CREATE_ERRHANDLER</font>, and  
       <font face="sans-serif"> MPI_ERRHANDLER_CREATE</font>.  
For consistency reasons, <font face="sans-serif"> INOUBUF</font> was changed to <font face="sans-serif"> INOUTBUF</font>  
  in <font face="sans-serif"> MPI_REDUCE_LOCAL</font>,  
and <font face="sans-serif"> intracomm</font> to <font face="sans-serif"> newintracomm</font>   
  in <font face="sans-serif"> MPI_INTERCOMM_MERGE</font>.  
<P> 
 
<br> 
34. Section <a href="node174.htm#Node174">Communicators 
</a> on page <a href="node174.htm#Node174">Communicators 
</a>.   
<br>  
It was clarified that in Fortran, the flag values   
returned by a <font face="sans-serif"> comm_copy_attr_fn</font> callback,  
including <font face="sans-serif"> MPI_COMM_NULL_COPY_FN</font>   
and <font face="sans-serif"> MPI_COMM_DUP_FN</font>,   
are <tt> .FALSE.</tt> and <tt> .TRUE.</tt>; see <font face="sans-serif"> MPI_COMM_CREATE_KEYVAL</font>.  
<P> 
 
<br> 
35. Section <a href="node216.htm#Node216">Memory Allocation 
</a> on page <a href="node216.htm#Node216">Memory Allocation 
</a>.  
<br>  
With the <tt>mpi</tt> and <tt>mpi_f08</tt> Fortran modules,   
<font face="sans-serif"> MPI_ALLOC_MEM</font> now also supports <tt> TYPE(C_PTR)</tt> C-pointers   
instead of only returning an address-sized integer that may be usable together   
with a non-standard Cray-pointer.  
 <P> 
 
<br> 
36. Section <a href="node425.htm#Node425">Fortran Derived Types 
</a> on page <a href="node425.htm#Node425">Fortran Derived Types 
</a>, and  
Section <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a> on page <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
Fortran <tt> SEQUENCE</tt> and <tt> BIND(C)</tt> derived application types  
can now be used as buffers in <font face="sans-serif"> MPI</font> operations.  
 <P> 
 
<br> 
37. Section <a href="node426.htm#Node426">Optimization Problems, an Overview 
</a> on page <a href="node426.htm#Node426">Optimization Problems, an Overview 
</a> to   
Section <a href="node440.htm#Node440">Permanent Data Movement 
</a> on page <a href="node440.htm#Node440">Permanent Data Movement 
</a>,   
Section <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a> on page <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>, and  
Section <a href="node415.htm#Node415">Additional Support for Fortran Register-Memory-Synchronization 
</a> on page <a href="node415.htm#Node415">Additional Support for Fortran Register-Memory-Synchronization 
</a>.  
<br>  
The sections about Fortran optimization problems and their solutions were  
partially rewritten and new methods are added, e.g., the use of the <tt> ASYNCHRONOUS</tt> attribute.  
The constant <font face="sans-serif">  MPI_ASYNC_PROTECTS_NONBLOCKING</font> tells whether  
the semantics of the <tt> ASYNCHRONOUS</tt> attribute is extended to protect   
nonblocking operations.  
The Fortran routine <font face="sans-serif"> MPI_F_SYNC_REG</font> is added.   
<font face="sans-serif"> MPI-3.0</font> compliance for an <font face="sans-serif"> MPI</font> library together with a Fortran compiler is  
defined in Section <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.   
 <P> 
 
<br> 
38. Section <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a> on page <a href="node409.htm#Node409">Fortran Support Through the <tt>mpi_f08</tt> Module 
</a>.  
<br>  
Within the <tt>mpi_08</tt> Fortran module,  
dummy arguments are now declared with <tt> INTENT=IN</tt>,  
<tt> OUT</tt>, or <tt> INOUT</tt> as defined in the <tt>mpi_08</tt> interfaces.  
 <P> 
 
<br> 
39. Section <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a> on page <a href="node410.htm#Node410">Fortran Support Through the <tt>mpi</tt> Module 
</a>, and  
Section <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a> on page <a href="node414.htm#Node414">Requirements on Fortran Compilers 
</a>.  
<br>  
The existing <tt>mpi</tt> Fortran module must implement compile-time argument checking.   
 <P> 
 
<br> 
40. Section <a href="node411.htm#Node411">Fortran Support Through the <tt>mpif.h</tt> Include File 
</a> on page <a href="node411.htm#Node411">Fortran Support Through the <tt>mpif.h</tt> Include File 
</a>.  
<br>  
The use of the <tt>mpif.h</tt> Fortran include file is now strongly discouraged.   
 <P> 
 
<br> 
41. Section <a href="node459.htm#Node459">Defined Constants 
</a>,  
Table ``<em> Predefined functions</em>'' on page <a href="node459.htm#Node459">Defined Constants 
</a>,  
Section <a href="node461.htm#Node461">Prototype Definitions 
</a> on page <a href="node461.htm#Node461">Prototype Definitions 
</a>,  
and Section <a href="node488.htm#Node488">Groups, Contexts, Communicators, and Caching Fortran 2008 Bindings 
</a> on page <a href="node488.htm#Node488">Groups, Contexts, Communicators, and Caching Fortran 2008 Bindings 
</a>.  
<br>  
Within the new <tt>mpi_f08</tt> module, all callback prototype definitions are now  
defined with explicit interfaces <tt> PROCEDURE(MPI_...)</tt> that have the <tt> BIND(C)</tt>   
attribute; user-written callbacks must be modified if the <tt>mpi_f08</tt> module is used.  
 <P> 
 
<br> 
42. Section <a href="node461.htm#Node461">Prototype Definitions 
</a> on page <a href="node461.htm#Node461">Prototype Definitions 
</a>.  
<br>  
In some routines, the Fortran callback prototype names were changed   
from <font face="sans-serif"> <i>...</i>_FN</font> to <font face="sans-serif"> <i>...</i>_FUNCTION</font> to be   
consistent with the other language bindings.  
 <P> 
</ol> 

<P>
<hr>
<a href="node518.htm#Node518"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node517.htm#Node517"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node520.htm#Node520"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node517.htm#Node517"> Changes from Version 2.2 to Version 3.0</a>
<b>Next: </b><a href="node520.htm#Node520"> Changes from Version 2.1 to Version 2.2</a>
<b>Previous: </b><a href="node518.htm#Node518"> Fixes to Errata in Previous Versions of <font face="sans-serif"> MPI</font></a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
