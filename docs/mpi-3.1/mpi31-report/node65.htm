<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-pt2pt/pt2pt.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Semantics of Nonblocking Communications</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node65">60. Semantics of Nonblocking Communications</span></h2>
<a href="node64.htm#Node64"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node61.htm#Node61"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node66.htm#Node66"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node61.htm#Node61"> Nonblocking Communication</a>
<b>Next: </b><a href="node66.htm#Node66"> Multiple Completions</a>
<b>Previous: </b><a href="node64.htm#Node64"> Communication Completion</a>
<p>
  
  
<P> 
The semantics of nonblocking communication is defined by suitably extending the  
definitions in Section <a href="node58.htm#Node58">Semantics of Point-to-Point Communication 
</a>.  
<P> 
<P> 
Order Nonblocking communication operations are ordered according to the execution  
order of the calls that initiate the communication.  The non-overtaking  
requirement of Section <a href="node58.htm#Node58">Semantics of Point-to-Point Communication 
</a> is extended to  
nonblocking communication, with this definition of order being used.  
<P> 
<br><b> Example</b>  
  
  
  
  
  
Message ordering for nonblocking operations.  
<br> 
<pre><tt>CALL MPI_COMM_RANK(comm, rank, ierr) 
IF (RANK.EQ.0) THEN 
      CALL MPI_ISEND(a, 1, MPI_REAL, 1, 0, comm, r1, ierr) 
      CALL MPI_ISEND(b, 1, MPI_REAL, 1, 0, comm, r2, ierr) 
ELSE IF (rank.EQ.1) THEN 
      CALL MPI_IRECV(a, 1, MPI_REAL, 0, MPI_ANY_TAG, comm, r1, ierr) 
      CALL MPI_IRECV(b, 1, MPI_REAL, 0, 0, comm, r2, ierr) 
END IF 
CALL MPI_WAIT(r1, status, ierr) 
CALL MPI_WAIT(r2, status, ierr) 
</tt></pre> 
The first send of process zero will match the  
first receive of process one, even  
if both messages are sent before process one executes either receive.  
  
<P> 
<P> 
Progress A call to <font face="sans-serif"> MPI_WAIT</font> that completes a receive will eventually  
terminate and return if a matching send has been started, unless  
the send is satisfied by another receive.  In particular, if the matching send  
is  
nonblocking,  
then the receive should complete even if no call is executed by the  
sender to complete the send.   Similarly, a call to <font face="sans-serif"> MPI_WAIT</font> that  
completes a send will eventually  
return if a matching receive has been started, unless  
the receive is satisfied by another send, and even if no call is executed to  
complete the receive.  
<P> 
<br><b> Example</b>  
  
  
  
  
  
  
  
An illustration of progress semantics.  
<br> 
<pre><tt>CALL MPI_COMM_RANK(comm, rank, ierr) 
IF (RANK.EQ.0) THEN 
      CALL MPI_SSEND(a, 1, MPI_REAL, 1, 0, comm, ierr) 
      CALL MPI_SEND(b, 1, MPI_REAL, 1, 1, comm, ierr) 
ELSE IF (rank.EQ.1) THEN 
      CALL MPI_IRECV(a, 1, MPI_REAL, 0, 0, comm, r, ierr) 
      CALL MPI_RECV(b, 1, MPI_REAL, 0, 1, comm, status, ierr) 
      CALL MPI_WAIT(r, status, ierr) 
END IF 
</tt></pre> 
This code should not deadlock in a correct <font face="sans-serif"> MPI</font> implementation.  The first  
synchronous send of process zero must complete after process one posts the  
matching (nonblocking) receive even if process one has not yet reached  
the completing wait call.  Thus, process zero will continue and execute  
the second send, allowing process one to complete execution.  
  
<P> 
If an <font face="sans-serif"> MPI_TEST</font> that completes a receive is repeatedly called  
with the same  
arguments, and  
a matching send has been started, then the call will eventually  
return <font face="sans-serif"> flag = true</font>, unless the send is satisfied by another  
receive.  
If an <font face="sans-serif"> MPI_TEST</font> that completes a send is repeatedly called with the  
same arguments, and  
a matching receive has been started, then the call will eventually  
return <font face="sans-serif"> flag = true</font>, unless the receive is satisfied by another  
send.  
<P> 

<P>
<hr>
<a href="node64.htm#Node64"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node61.htm#Node61"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node66.htm#Node66"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node61.htm#Node61"> Nonblocking Communication</a>
<b>Next: </b><a href="node66.htm#Node66"> Multiple Completions</a>
<b>Previous: </b><a href="node64.htm#Node64"> Communication Completion</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
