<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-appLang/appLang-Const.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Prototype Definitions</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node461">390. Prototype Definitions</span></h2>
<a href="node460.htm#Node460"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node458.htm#Node458"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node462"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node458.htm#Node458"> Defined  Values and Handles</a>
<b>Next: </b><a href="node461.htm#Node462"> C Bindings</a>
<b>Previous: </b><a href="node460.htm#Node460"> Types</a>
<p>
  
  
  
<ul> 
</ul> 

<P>
<hr>
<a href="node460.htm#Node460"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node458.htm#Node458"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node462"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node458.htm#Node458"> Defined  Values and Handles</a>
<b>Next: </b><a href="node461.htm#Node462"> C Bindings</a>
<b>Previous: </b><a href="node460.htm#Node460"> Types</a>
<p>
<hr><h3><span id="Node462">390.1. C Bindings</span></h3>
<a href="node461.htm#Node461"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node463"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node461.htm#Node463"> Fortran 2008 Bindings with the mpi_f08 Module</a>
<b>Previous: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<p>
  
The following are defined C typedefs for user-defined functions,   
also included in the file <tt>mpi.h</tt>.  
<P> 
<P><img width=422 height=483 src="img222.gif" alt="Image file"><P>

<P>
<hr>
<a href="node461.htm#Node461"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node463"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node461.htm#Node463"> Fortran 2008 Bindings with the mpi_f08 Module</a>
<b>Previous: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<p>
<hr><h3><span id="Node463">390.2. Fortran 2008 Bindings with the mpi_f08 Module</span></h3>
<a href="node461.htm#Node462"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node464"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node461.htm#Node464"> Fortran Bindings with mpif.h or the mpi Module</a>
<b>Previous: </b><a href="node461.htm#Node462"> C Bindings</a>
<p>
The callback prototypes when using the Fortran <tt>mpi_f08</tt> module are shown below:  
 <P> 
The user-function argument to <font face="sans-serif"> MPI_Op_create</font> should be declared  
according to:  
 <P> 
 <tt> SUBROUTINE MPI_User_function(invec, inoutvec, len, datatype) <br> USE, INTRINSIC :: ISO_C_BINDING, ONLY : C_PTR <br>TYPE(C_PTR), VALUE :: invec, inoutvec <br>INTEGER :: len <br>TYPE(MPI_Datatype) :: datatype <br></tt>  
 <P> 
The copy and delete function arguments to <font face="sans-serif"> MPI_Comm_create_keyval</font> should be  
declared according to:  
<P> 
 <tt> SUBROUTINE MPI_Comm_copy_attr_function(oldcomm, comm_keyval, extra_state, attribute_val_in, attribute_val_out, flag, ierror) <br> TYPE(MPI_Comm) :: oldcomm <br>INTEGER :: comm_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state, attribute_val_in, attribute_val_out <br>LOGICAL :: flag  <br></tt>  
 <tt> SUBROUTINE MPI_Comm_delete_attr_function(comm, comm_keyval, attribute_val, extra_state, ierror) <br> TYPE(MPI_Comm) :: comm <br>INTEGER :: comm_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: attribute_val, extra_state  <br></tt>  
 <P> 
The copy and delete function arguments to <font face="sans-serif"> MPI_Win_create_keyval</font> should be  
declared according to:  
<P> 
 <tt> SUBROUTINE MPI_Win_copy_attr_function(oldwin, win_keyval, extra_state, attribute_val_in, attribute_val_out, flag, ierror) <br> TYPE(MPI_Win) :: oldwin <br>INTEGER :: win_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state, attribute_val_in, attribute_val_out <br>LOGICAL :: flag  <br></tt>  
 <tt> SUBROUTINE MPI_Win_delete_attr_function(win, win_keyval, attribute_val, extra_state, ierror) <br> TYPE(MPI_Win) :: win <br>INTEGER :: win_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: attribute_val, extra_state  <br></tt>  
<P> 
The copy and delete function arguments to <font face="sans-serif"> MPI_Type_create_keyval</font> should be  
declared according to:  
<P> 
 <tt> SUBROUTINE MPI_Type_copy_attr_function(oldtype, type_keyval, extra_state, attribute_val_in, attribute_val_out, flag, ierror) <br> TYPE(MPI_Datatype) :: oldtype <br>INTEGER :: type_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state, attribute_val_in, attribute_val_out <br>LOGICAL :: flag  <br></tt>  
 <tt> SUBROUTINE MPI_Type_delete_attr_function(datatype, type_keyval, attribute_val, extra_state, ierror) <br> TYPE(MPI_Datatype) :: datatype <br>INTEGER :: type_keyval, ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: attribute_val, extra_state  <br></tt>  
<P> 
The handler-function argument to <font face="sans-serif"> MPI_Comm_create_errhandler</font>  
should be declared like this:  
<P> 
 <tt> SUBROUTINE MPI_Comm_errhandler_function(comm, error_code) <br> TYPE(MPI_Comm) :: comm <br>INTEGER :: error_code  <br></tt>  
<P> 
The handler-function argument to <font face="sans-serif"> MPI_Win_create_errhandler</font>  
should be declared like this:  
<P> 
 <tt> SUBROUTINE MPI_Win_errhandler_function(win, error_code) <br> TYPE(MPI_Win) :: win <br>INTEGER :: error_code  <br></tt>  
<P> 
The handler-function argument to <font face="sans-serif"> MPI_File_create_errhandler</font>  
should be declared like this:  
<P> 
 <tt> SUBROUTINE MPI_File_errhandler_function(file, error_code) <br> TYPE(MPI_File) :: file <br>INTEGER :: error_code  <br></tt>  
 <P> 
The query, free, and cancel function arguments to <font face="sans-serif"> MPI_Grequest_start</font>  
should be declared according to:  
<P> 
 <tt> SUBROUTINE MPI_Grequest_query_function(extra_state, status, ierror) <br> TYPE(MPI_Status) :: status <br>INTEGER :: ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state  <br></tt>  
 <tt> SUBROUTINE MPI_Grequest_free_function(extra_state, ierror) <br> INTEGER :: ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state  <br></tt>  
 <tt> SUBROUTINE MPI_Grequest_cancel_function(extra_state, complete, ierror) <br> INTEGER :: ierror <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state <br>LOGICAL :: complete  <br></tt>  
<P> 
The extent and conversion function arguments to <font face="sans-serif"> MPI_Register_datarep</font>  
should be declared  according to:  
<P> 
 <tt> SUBROUTINE MPI_Datarep_extent_function(datatype, extent, extra_state, ierror) <br> TYPE(MPI_Datatype) :: datatype <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extent, extra_state <br>INTEGER :: ierror  <br></tt>  
<P> 
 <tt> SUBROUTINE MPI_Datarep_conversion_function(userbuf, datatype, count, filebuf, position, extra_state, ierror)<br>  USE, INTRINSIC :: ISO_C_BINDING, ONLY : C_PTR <br>TYPE(C_PTR), VALUE :: userbuf, filebuf <br>TYPE(MPI_Datatype) :: datatype <br>INTEGER :: count, ierror <br>INTEGER(KIND=MPI_OFFSET_KIND) :: position <br>INTEGER(KIND=MPI_ADDRESS_KIND) :: extra_state <br></tt>  
 <P> 

<P>
<hr>
<a href="node461.htm#Node462"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node461.htm#Node464"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node461.htm#Node464"> Fortran Bindings with mpif.h or the mpi Module</a>
<b>Previous: </b><a href="node461.htm#Node462"> C Bindings</a>
<p>
<hr><h3><span id="Node464">390.3. Fortran Bindings with mpif.h or the mpi Module</span></h3>
<a href="node461.htm#Node463"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node465.htm#Node465"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node465.htm#Node465"> Deprecated Prototype Definitions</a>
<b>Previous: </b><a href="node461.htm#Node463"> Fortran 2008 Bindings with the mpi_f08 Module</a>
<p>
With  
the Fortran <tt>mpi</tt> module or <tt>mpif.h</tt>, here are examples of how each of the user-defined  
subroutines should be declared.  
<P> 
The user-function argument to <font face="sans-serif"> MPI_OP_CREATE</font> should be declared  
like this:  
<br> 
<pre><tt>SUBROUTINE USER_FUNCTION(INVEC, INOUTVEC, LEN, DATATYPE) 
   &lt;type&gt; INVEC(LEN), INOUTVEC(LEN) 
   INTEGER LEN, DATATYPE 
</tt></pre> 
The copy and delete function arguments to <font face="sans-serif"> MPI_COMM_CREATE_KEYVAL</font> should be  
declared like these:  
<P> 
<br> 
<pre><tt>SUBROUTINE COMM_COPY_ATTR_FUNCTION(OLDCOMM, COMM_KEYVAL, EXTRA_STATE, 
             ATTRIBUTE_VAL_IN, ATTRIBUTE_VAL_OUT, FLAG, IERROR) 
   INTEGER OLDCOMM, COMM_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE, ATTRIBUTE_VAL_IN, 
             ATTRIBUTE_VAL_OUT 
   LOGICAL FLAG 
 
SUBROUTINE COMM_DELETE_ATTR_FUNCTION(COMM, COMM_KEYVAL, ATTRIBUTE_VAL, 
             EXTRA_STATE, IERROR) 
   INTEGER COMM, COMM_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) ATTRIBUTE_VAL, EXTRA_STATE 
</tt></pre> 
The copy and delete function arguments to <font face="sans-serif"> MPI_WIN_CREATE_KEYVAL</font> should be  
declared like these:  
<P> 
<br> 
<pre><tt>SUBROUTINE WIN_COPY_ATTR_FUNCTION(OLDWIN, WIN_KEYVAL, EXTRA_STATE, 
             ATTRIBUTE_VAL_IN, ATTRIBUTE_VAL_OUT, FLAG, IERROR) 
   INTEGER OLDWIN, WIN_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE, ATTRIBUTE_VAL_IN, 
             ATTRIBUTE_VAL_OUT 
   LOGICAL FLAG 
 
SUBROUTINE WIN_DELETE_ATTR_FUNCTION(WIN, WIN_KEYVAL, ATTRIBUTE_VAL, 
             EXTRA_STATE, IERROR) 
   INTEGER WIN, WIN_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) ATTRIBUTE_VAL, EXTRA_STATE 
</tt></pre> 
The copy and delete function arguments to <font face="sans-serif"> MPI_TYPE_CREATE_KEYVAL</font> should be  
declared like these:  
<P> 
<br> 
<pre><tt>SUBROUTINE TYPE_COPY_ATTR_FUNCTION(OLDTYPE, TYPE_KEYVAL, EXTRA_STATE, 
              ATTRIBUTE_VAL_IN, ATTRIBUTE_VAL_OUT, FLAG, IERROR) 
   INTEGER OLDTYPE, TYPE_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE, 
              ATTRIBUTE_VAL_IN, ATTRIBUTE_VAL_OUT 
   LOGICAL FLAG 
 
SUBROUTINE TYPE_DELETE_ATTR_FUNCTION(DATATYPE, TYPE_KEYVAL, ATTRIBUTE_VAL, 
              EXTRA_STATE, IERROR) 
   INTEGER DATATYPE, TYPE_KEYVAL, IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) ATTRIBUTE_VAL, EXTRA_STATE 
</tt></pre> 
The handler-function argument to <font face="sans-serif"> MPI_COMM_CREATE_ERRHANDLER</font>  
should be declared like this:  
<P> 
<br> 
<pre><tt>SUBROUTINE COMM_ERRHANDLER_FUNCTION(COMM, ERROR_CODE) 
   INTEGER COMM, ERROR_CODE 
</tt></pre> 
The handler-function argument to <font face="sans-serif"> MPI_WIN_CREATE_ERRHANDLER</font>  
should be declared like this:  
<P> 
<br> 
<pre><tt>SUBROUTINE WIN_ERRHANDLER_FUNCTION(WIN, ERROR_CODE)  
   INTEGER WIN, ERROR_CODE 
</tt></pre> 
The handler-function argument to <font face="sans-serif"> MPI_FILE_CREATE_ERRHANDLER</font>  
should be declared like this:  
<P> 
<br> 
<pre><tt>SUBROUTINE FILE_ERRHANDLER_FUNCTION(FILE, ERROR_CODE) 
   INTEGER FILE, ERROR_CODE 
</tt></pre> 
The query, free, and cancel function arguments to <font face="sans-serif"> MPI_GREQUEST_START</font>  
should be declared like these:  
<P> 
<br> 
<pre><tt>SUBROUTINE GREQUEST_QUERY_FUNCTION(EXTRA_STATE, STATUS, IERROR) 
   INTEGER STATUS(MPI_STATUS_SIZE), IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE 
  
SUBROUTINE GREQUEST_FREE_FUNCTION(EXTRA_STATE, IERROR) 
   INTEGER IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE 
  
SUBROUTINE GREQUEST_CANCEL_FUNCTION(EXTRA_STATE, COMPLETE, IERROR) 
   INTEGER IERROR 
   INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE 
   LOGICAL COMPLETE 
</tt></pre> 
The extent and conversion function arguments to <font face="sans-serif"> MPI_REGISTER_DATAREP</font>  
should be declared like these:  
<P> 
<br> 
<pre><tt>SUBROUTINE DATAREP_EXTENT_FUNCTION(DATATYPE, EXTENT, EXTRA_STATE, IERROR) 
    INTEGER DATATYPE, IERROR  
    INTEGER(KIND=MPI_ADDRESS_KIND) EXTENT, EXTRA_STATE 
  
SUBROUTINE DATAREP_CONVERSION_FUNCTION(USERBUF, DATATYPE, COUNT, FILEBUF,  
             POSITION, EXTRA_STATE, IERROR) 
    &lt;TYPE&gt; USERBUF(*), FILEBUF(*)  
    INTEGER COUNT, DATATYPE, IERROR  
    INTEGER(KIND=MPI_OFFSET_KIND) POSITION  
    INTEGER(KIND=MPI_ADDRESS_KIND) EXTRA_STATE 
</tt></pre> 
  
<P> 

<P>
<hr>
<a href="node461.htm#Node463"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node461.htm#Node461"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node465.htm#Node465"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node461.htm#Node461"> Prototype Definitions</a>
<b>Next: </b><a href="node465.htm#Node465"> Deprecated Prototype Definitions</a>
<b>Previous: </b><a href="node461.htm#Node463"> Fortran 2008 Bindings with the mpi_f08 Module</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
