<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-io/io-2.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Closing a File</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node309">284. Closing a File</span></h2>
<a href="node308.htm#Node308"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node307.htm#Node307"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node310.htm#Node310"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node307.htm#Node307"> File Manipulation</a>
<b>Next: </b><a href="node310.htm#Node310"> Deleting a File</a>
<b>Previous: </b><a href="node308.htm#Node308"> Opening a File</a>
<p>
  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_FILE_CLOSE(fh)</TD></TR>  
<TR><TD> INOUT fh</TD><TD>file handle (handle)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_File_close(MPI_File *fh) <br></tt>  
 <tt> MPI_File_close(fh, ierror) <br> TYPE(MPI_File), INTENT(INOUT) :: fh <br>INTEGER, OPTIONAL, INTENT(OUT) :: ierror <br></tt>  
 <tt> MPI_FILE_CLOSE(FH, IERROR)<br> INTEGER FH, IERROR <br></tt>  
  
<P> 
<font face="sans-serif"> MPI_FILE_CLOSE</font> first synchronizes file state  
(equivalent to performing an <font face="sans-serif"> MPI_FILE_SYNC</font>),  
then closes the file associated with <font face="sans-serif"> fh</font>.  
The file is deleted if it was opened with access mode  
<font face="sans-serif">  MPI_MODE_DELETE_ON_CLOSE</font>  
(equivalent to performing an <font face="sans-serif"> MPI_FILE_DELETE</font>).  
<font face="sans-serif"> MPI_FILE_CLOSE</font> is a collective routine.  
<P> 
 
<br> 
<em> Advice to users.</em>  
<P> 
If the file is deleted on close, and there are  
other processes currently accessing the file,  
the status of the file and the behavior of future accesses  
by these processes are implementation dependent.  
 (<em> End of advice to users.</em>) <br> 
The user is responsible for ensuring that all outstanding  
nonblocking requests and split collective  
operations associated with <font face="sans-serif"> fh</font>  
made by a process have completed  
before that process calls <font face="sans-serif"> MPI_FILE_CLOSE</font>.  
<P> 
The <font face="sans-serif"> MPI_FILE_CLOSE</font> routine deallocates the file handle object  
and sets <font face="sans-serif"> fh</font> to <font face="sans-serif">  MPI_FILE_NULL</font>.  
<P> 

<P>
<hr>
<a href="node308.htm#Node308"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node307.htm#Node307"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node310.htm#Node310"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node307.htm#Node307"> File Manipulation</a>
<b>Next: </b><a href="node310.htm#Node310"> Deleting a File</a>
<b>Previous: </b><a href="node308.htm#Node308"> Opening a File</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
