<!DOCTYPE html>
<html lang=en>
<head>
<!-- This file was generated by tohtml from chap-io/io-2.tex -->
<!-- with the command
tohtml -default -basedef mpi3defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex -allgif -endpage mpi3-forum-tail.htm -Wnoredef -o mpi31-report.tex mpi-report.tex 
-->
<title>Random Access vs. Sequential Files</title>
</head>
<body style="background-color:#FFFFFF">
<hr><h2><span id="Node340">305. Random Access vs. Sequential Files</span></h2>
<a href="node339.htm#Node339"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node338.htm#Node338"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node341.htm#Node341"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node338.htm#Node338"> Consistency and Semantics</a>
<b>Next: </b><a href="node341.htm#Node341"> Progress</a>
<b>Previous: </b><a href="node339.htm#Node339"> File Consistency</a>
<p>
<font face="sans-serif"> MPI</font> distinguishes ordinary random access files from sequential  
stream files, such as pipes and tape files.  
Sequential stream files must be opened with the <font face="sans-serif">  MPI_MODE_SEQUENTIAL</font>  
flag set in the amode.  
For these files,  
the only permitted data access operations are  
shared file pointer reads and writes.  
Filetypes and etypes with holes are erroneous.  
In addition, the notion of file pointer is not meaningful;  
therefore, calls to <font face="sans-serif"> MPI_FILE_SEEK_SHARED</font> and  
<font face="sans-serif"> MPI_FILE_GET_POSITION_SHARED</font> are erroneous,  
and the pointer update rules specified for the data access routines  
do not apply.  
The amount of data accessed by a data access operation will be  
the amount requested unless  
the end of file is reached or an error is raised.  
<P> 
 
<br> 
<em> Rationale.</em>  
<P> 
This implies that reading on a pipe will always wait until the  
requested amount of data is available or until the process  
writing to the pipe has issued an end of file.  
 (<em> End of rationale.</em>) <br> 
Finally,  
for some sequential files,  
such as those corresponding to magnetic tapes or streaming network connections,  
writes to the file may be destructive.  
In other words, a write may act as a truncate  
(a <font face="sans-serif"> MPI_FILE_SET_SIZE</font> with <font face="sans-serif"> size</font> set to the current position)  
followed by the write.  
<P> 

<P>
<hr>
<a href="node339.htm#Node339"><img width=16 height=16 src="previous.gif" alt="Previous"></a><a href="node338.htm#Node338"><img width=16 height=16 src="up.gif" alt="Up"></a><a href="node341.htm#Node341"><img width=16 height=16 src="next.gif" alt="Next"></a><br>
<b>Up: </b><a href="node338.htm#Node338"> Consistency and Semantics</a>
<b>Next: </b><a href="node341.htm#Node341"> Progress</a>
<b>Previous: </b><a href="node339.htm#Node339"> File Consistency</a>
<p>
<HR>
Return to <A HREF="node523.htm">MPI-3.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-3.1 of June 4, 2015<BR>
HTML Generated on June 4, 2015
</FONT>
</body>
</html>
