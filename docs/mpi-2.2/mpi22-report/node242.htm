<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-one-side/one-side-2.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>Assertions</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node242">227. Assertions</a></H2>
<A HREF="node241.htm#Node241"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node238.htm#Node238"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node243.htm#Node243"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node238.htm#Node238"> Synchronization Calls</a>
<b>Next: </b><A HREF="node243.htm#Node243"> Miscellaneous Clarifications</a>
<b>Previous: </b><A HREF="node241.htm#Node241"> Lock</a>
<P>
  
<P> 
The <font face="sans-serif"> assert</font> argument in the calls   
<font face="sans-serif"> MPI_WIN_POST</font>, <font face="sans-serif"> MPI_WIN_START</font>, <font face="sans-serif"> MPI_WIN_FENCE</font>   
and <font face="sans-serif"> MPI_WIN_LOCK</font> is used to provide assertions on the context of the   
call that may be used to optimize performance.  The <font face="sans-serif"> assert</font> argument does not change program  
semantics if it provides correct information on the program ---  
it is erroneous to provides incorrect information.  
Users may always provide  
<font face="sans-serif"> assert = 0</font> to indicate a general case, where no guarantees are made.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
Many implementations may not take advantage of the information in <font face="sans-serif"> assert</font>; some of the information is relevant only for noncoherent, shared memory machines.  Users should consult their implementation manual  
to  
find which information is useful on each system. On the other hand,  
applications that provide correct  
assertions whenever applicable are portable and will  
take advantage of assertion specific optimizations, whenever available.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
<em> Advice  
        to implementors.</em>  
<P> 
Implementations can always ignore the <font face="sans-serif"> assert</font> argument.  
Implementors should  
document which <font face="sans-serif"> assert</font> values are significant on their implementation.  
 (<em> End of advice to implementors.</em>) <BR> 
<font face="sans-serif"> assert</font> is the bit-vector OR of zero or more of the following  
integer constants:  
<font face="sans-serif">  MPI_MODE_NOCHECK</font>, <font face="sans-serif">  MPI_MODE_NOSTORE</font>,  
<font face="sans-serif">  MPI_MODE_NOPUT</font>,  
<font face="sans-serif">  MPI_MODE_NOPRECEDE</font> and <font face="sans-serif">  MPI_MODE_NOSUCCEED</font>.  
The significant options are listed below, for each call.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
C/C++ users can use bit vector or (<IMG WIDTH=1 HEIGHT=11 SRC="img142.gif">
) to combine these constants;  
Fortran 90 users  
can use the bit-vector <tt> IOR</tt> intrinsic.   
Fortran 77 users can use (nonportably)  
bit  
vector <tt> IOR</tt> on systems that support it.  Alternatively, Fortran users can   
portably use integer addition to OR the constants (each constant should  
appear at most once in the addition!).  
 (<em> End of advice to users.</em>) <BR> 
<dl> 
 
<dt> 
<b></b><dd> 
<b> MPI_WIN_START:</b>  
<dl> 
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOCHECK</font>  
--- the matching calls to <font face="sans-serif"> MPI_WIN_POST</font>  
have  
already completed on all target processes when the call to  
<font face="sans-serif"> MPI_WIN_START</font> is made.    
  
The nocheck option can be  
specified in a start call if and only if it is specified in each  
matching post call.  
This is similar to the optimization  
of ``ready-send'' that may save a handshake when the handshake is  
implicit in the code.  
(However, ready-send is matched by a regular receive, whereas  
both start and post must specify the nocheck option.)  
</dl> 
<BR> 
   
 
<dt> 
<b></b><dd> 
<b> MPI_WIN_POST:</b>  
<dl> 
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOCHECK</font>    
  
--- the matching calls to <font face="sans-serif"> MPI_WIN_START</font>  
have not yet occurred  
on any origin processes when the call to  
<font face="sans-serif"> MPI_WIN_POST</font> is made.  
The nocheck option can be specified by a post call if and only if it  
is specified by each matching start call.  
    
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOSTORE</font>   
--- the local window was not updated by  
local  
stores (or local get or receive calls) since  
last synchronization.  This may avoid the need for cache synchronization at  
the  
post call.  
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOPUT</font>  
--- the local window will not be updated by  
put or accumulate  
calls after the post call, until the ensuing (wait) synchronization.  
This may avoid the need for cache synchronization at the wait call.  
</dl> 
<BR> 
 
<dt> 
<b></b><dd> 
<b> MPI_WIN_FENCE:</b>  
<dl> 
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOSTORE</font>  
--- the local window was not updated by  
local stores (or local get or receive calls) since last synchronization.  
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOPUT</font>  
--- the local window will not be updated  
by put or accumulate calls after  
the fence call, until the ensuing (fence) synchronization.  
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOPRECEDE</font>  
--- the fence does not complete any  
sequence of locally issued <font face="sans-serif"> RMA</font> calls.  If this assertion is given by  
any process in the window group, then it must be given by all  
processes in the group.   
 
<dt> 
<b>{{</b><font face="sans-serif">  MPI_MODE_NOSUCCEED}</font>}</b><dd> 
--- the fence does not start any sequence  
of locally issued <font face="sans-serif"> RMA</font> calls.  If the assertion is given by any process  
in the window group, then it must be given by all processes in the group.  
</dl> 
<BR> 
 
<dt> 
<b></b><dd> 
<b>  MPI_WIN_LOCK:</b>  
<dl> 
 
<dt> 
<b> </b><dd> 
<font face="sans-serif">  MPI_MODE_NOCHECK</font>  
--- no other process holds, or will attempt  
to acquire a  
conflicting lock, while the caller holds the window lock.   This is useful  
when  
mutual exclusion is achieved by other means, but the coherence operations  
that  
may be attached to the lock and unlock calls are still required.  
</dl> 
<BR> 
</dl> 
<BR> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
Note that the nostore and noprecede flags provide  
information on what happened <em> before</em>  
the call; the noput and nosucceed  
flags provide information on what will happen <em>  
after</em> the call.  
 (<em> End of advice to users.</em>) <BR> 
  

<P>
<HR>
<A HREF="node241.htm#Node241"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node238.htm#Node238"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node243.htm#Node243"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node238.htm#Node238"> Synchronization Calls</a>
<b>Next: </b><A HREF="node243.htm#Node243"> Miscellaneous Clarifications</a>
<b>Previous: </b><A HREF="node241.htm#Node241"> Lock</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
