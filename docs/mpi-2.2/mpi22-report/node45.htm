<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-pt2pt/pt2pt.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>Message Envelope</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node45">45. Message Envelope</a></H2>
<A HREF="node44.htm#Node44"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node42.htm#Node42"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node46.htm#Node46"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node42.htm#Node42"> Blocking Send and Receive Operations</a>
<b>Next: </b><A HREF="node46.htm#Node46"> Blocking Receive</a>
<b>Previous: </b><A HREF="node44.htm#Node44"> Message Data</a>
<P>
  
<P> 
In addition to the data part, messages carry information that can be used to  
distinguish messages and selectively receive them.  This information consists  
of a fixed number of fields, which we collectively call  
the <b> message envelope</b>.   These fields are  
<CENTER>  
source <BR>  
destination <BR>  
tag <BR>  
communicator  
</CENTER>  
<P> 
The message source is implicitly determined by the identity of the  
message sender.  The other fields are specified by arguments in the send  
operation.  
<P> 
The message destination is specified by the <font face="sans-serif"> dest</font>  
argument.  
<P> 
The integer-valued message tag is specified by the <font face="sans-serif"> tag</font> argument.  
This integer can be used by the program to distinguish different types of  
messages.  
The range of valid tag values is <font face="sans-serif"> 0,...,UB</font>, where the value of <font face="sans-serif"> UB</font> is  
implementation dependent. It can be found by querying the  
value of the attribute <font face="sans-serif">  MPI_TAG_UB</font>, as  
described in Chapter <a href="node178.htm#Node178"><font face="sans-serif"> MPI</font> Environmental Management 
</a>.  <font face="sans-serif"> MPI</font> requires that <font face="sans-serif"> UB</font> be no  
less than 32767.  
<P> 
The <font face="sans-serif"> comm</font> argument specifies the <b> communicator</b> that is used for  
the send operation.  
Communicators are explained in Chapter <a href="node119.htm#Node119">Groups, Contexts, Communicators, and Caching 
</a>; below is a brief  
summary of their usage.  
<P> 
A communicator specifies the  
communication context for a communication operation.  
Each communication context provides a separate ``communication  
universe:'' messages are always received within the context they were  
sent, and messages sent in different contexts do not interfere.  
<P> 
The communicator also specifies the set of processes that share this  
communication context.   This <b> process group</b>  
is ordered and processes are identified by their  
rank within this group.  Thus, the range of valid values for <font face="sans-serif"> dest</font> is  
<font face="sans-serif"> 0, ... , n-1</font>, where <font face="sans-serif"> n</font> is the number of  
processes in the group.  (If the communicator is an inter-communicator, then  
destinations are identified by their rank in the remote group.  See  
Chapter <a href="node119.htm#Node119">Groups, Contexts, Communicators, and Caching 
</a>.)  
<P> 
A predefined communicator <font face="sans-serif">  MPI_COMM_WORLD</font> is provided by <font face="sans-serif"> MPI</font>. It  
allows communication with all processes that are accessible after <font face="sans-serif"> MPI</font>  
initialization and processes are identified by their rank in the  
group of <font face="sans-serif">  MPI_COMM_WORLD</font>.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
Users that are comfortable with the notion of a flat name space for  
processes, and a single communication context, as offered by most  
existing communication libraries,  need only use the predefined  
variable <font face="sans-serif">  MPI_COMM_WORLD</font> as the <font face="sans-serif"> comm</font> argument.  
This will allow communication with all the processes available at  
initialization time.  
<P> 
Users may define new communicators, as explained in Chapter <a href="node119.htm#Node119">Groups, Contexts, Communicators, and Caching 
</a>.  
Communicators provide an important encapsulation mechanism for libraries and  
modules.  They allow modules to have their own disjoint communication universe  
and their own process numbering scheme.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
<em> Advice  
        to implementors.</em>  
<P> 
The message envelope  
would normally be encoded by a fixed-length message header.  
However, the actual encoding  
is implementation dependent. Some of the information (e.g.,  
source or destination) may be implicit,  and need not be  
explicitly carried by messages. Also, processes may be identified by  
relative ranks, or absolute ids, etc.  
 (<em> End of advice to implementors.</em>) <BR> 

<P>
<HR>
<A HREF="node44.htm#Node44"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node42.htm#Node42"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node46.htm#Node46"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node42.htm#Node42"> Blocking Send and Receive Operations</a>
<b>Next: </b><A HREF="node46.htm#Node46"> Blocking Receive</a>
<b>Previous: </b><A HREF="node44.htm#Node44"> Message Data</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
