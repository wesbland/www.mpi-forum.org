<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-io/io-2.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>File Info</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node272">257. File Info</a></H2>
<A HREF="node271.htm#Node271"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node264.htm#Node264"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node272.htm#Node273"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node264.htm#Node264"> File Manipulation</a>
<b>Next: </b><A HREF="node272.htm#Node273"> Reserved File Hints</a>
<b>Previous: </b><A HREF="node271.htm#Node271"> Querying File Parameters</a>
<P>
  
<P> 
Hints specified via info  
(see Section <a href="node199.htm#Node199">The <font face="sans-serif"> Info</font> Object 
</a>, page <a href="node199.htm#Node199">The <font face="sans-serif"> Info</font> Object 
</a>)  
allow a user to provide information  
such as  
  
file access patterns and file system specifics  
to direct optimization.  
Providing hints may enable an implementation to deliver  
increased I/O performance or minimize the use of system resources.  
However, hints do not change the semantics of any of the I/O interfaces.  
In other words, an implementation is free to ignore all hints.  
Hints are specified on a per file basis,  
in <font face="sans-serif"> MPI_FILE_OPEN</font>, <font face="sans-serif"> MPI_FILE_DELETE</font>,  
<font face="sans-serif"> MPI_FILE_SET_VIEW</font>, and <font face="sans-serif"> MPI_FILE_SET_INFO</font>,  
via the opaque <font face="sans-serif"> info</font> object.  
When an info object that specifies a subset of valid hints is passed to  
<font face="sans-serif"> MPI_FILE_SET_VIEW</font> or <font face="sans-serif"> MPI_FILE_SET_INFO</font>,   
there will be no effect on  
previously set or defaulted hints that the <font face="sans-serif"> info</font> does not specify.   
  
 
<BR> 
<em> Advice  
        to implementors.</em>  
<P> 
It may happen that a program is coded with hints for one system, and  
later executes on another system that does not support these hints.  
In general, unsupported hints should simply be ignored.  
  
Needless to say, no hint can be mandatory.  
However, for each hint used by a specific implementation,  
a default value must be provided  
  
when the user does not specify a value for this hint.  
 (<em> End of advice to implementors.</em>) <BR> 
<TABLE><TR><TD COLSPAN=2>MPI_FILE_SET_INFO(fh, info)</TD></TR>  
<TR><TD> INOUT fh</TD><TD>file handle (handle)</TD></TR>  
<TR><TD> IN info</TD><TD>info object (handle)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_File_set_info(MPI_File fh, MPI_Info info) <BR></tt>  
 <tt> MPI_FILE_SET_INFO(FH, INFO, IERROR)<BR> INTEGER FH, INFO, IERROR <BR></tt>  
 <font color="red">{<font color="black"> void MPI::File::Set_info(const MPI::Info&amp; info) <font color="red"><em> (binding deprecated, see Section <a href="node328.htm#Node328">Deprecated since <font face="sans-serif"> MPI-2.2</font> 
</a>)</em> }<font color="black"><BR>  
<P> 
<font face="sans-serif"> MPI_FILE_SET_INFO</font> sets new values for the hints  
of the file associated with <font face="sans-serif"> fh</font>.  
  
<font face="sans-serif"> MPI_FILE_SET_INFO</font> is a collective routine.  
The info object  
may be different on each process, but any info entries that an  
implementation requires to be the same on all processes must  
appear  
with the same value  
in each process's info object.  
  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
Many info items that an implementation can use when it  
creates or opens a file cannot easily be changed  
once the file has been created or opened.  
  
Thus, an implementation may  
ignore hints issued in this call that it would have  
accepted in an open call.  
 (<em> End of advice to users.</em>) <BR> 
<TABLE><TR><TD COLSPAN=2>MPI_FILE_GET_INFO(fh, info_used)</TD></TR>  
<TR><TD> IN fh</TD><TD>file handle (handle)</TD></TR>  
<TR><TD> OUT info_used</TD><TD>new info object (handle)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_File_get_info(MPI_File fh, MPI_Info *info_used) <BR></tt>  
 <tt> MPI_FILE_GET_INFO(FH, INFO_USED, IERROR)<BR> INTEGER FH, INFO_USED, IERROR <BR></tt>  
  
 <font color="red">{<font color="black"> MPI::Info MPI::File::Get_info() const <font color="red"><em> (binding deprecated, see Section <a href="node328.htm#Node328">Deprecated since <font face="sans-serif"> MPI-2.2</font> 
</a>)</em> }<font color="black"><BR>  
  
<P> 
<font face="sans-serif"> MPI_FILE_GET_INFO</font> returns a new info object containing  
the hints  
of the file associated with <font face="sans-serif"> fh</font>.  
  
The current setting of all hints actually used by the system  
related to this open file is returned in <font face="sans-serif"> info_used</font>.  
If no such hints exist,   
a handle to a newly created info object is returned that  
contains no key/value pair.   
The user is responsible for freeing <font face="sans-serif"> info_used</font>  
via <font face="sans-serif"> MPI_INFO_FREE</font>.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
The info object returned in <font face="sans-serif"> info_used</font> will contain all  
hints currently active for this file.  
This set of hints may be greater or smaller than the set of hints passed  
in to <font face="sans-serif"> MPI_FILE_OPEN</font>,  
<font face="sans-serif"> MPI_FILE_SET_VIEW</font>, and <font face="sans-serif"> MPI_FILE_SET_INFO</font>,  
as the system may not recognize some hints set by the user,  
and may recognize other hints that the user has not set.  
 (<em> End of advice to users.</em>) <BR> 
<menu> 
</menu> 

<P>
<HR>
<A HREF="node271.htm#Node271"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node264.htm#Node264"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node272.htm#Node273"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node264.htm#Node264"> File Manipulation</a>
<b>Next: </b><A HREF="node272.htm#Node273"> Reserved File Hints</a>
<b>Previous: </b><A HREF="node271.htm#Node271"> Querying File Parameters</a>
<P>
<HR><H3><A NAME="Node273">257.1. Reserved File Hints</a></H3>
<A HREF="node272.htm#Node272"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node272.htm#Node272"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node274.htm#Node274"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node272.htm#Node272"> File Info</a>
<b>Next: </b><A HREF="node274.htm#Node274"> File Views</a>
<b>Previous: </b><A HREF="node272.htm#Node272"> File Info</a>
<P>
  
Some potentially useful hints (info key values) are outlined below.  
The following key values are reserved.  
  
An implementation is not required to interpret these key values,  
but if it does interpret the key value,  
it must provide the functionality described.  
(For more details on ``info,'' see Section <a href="node199.htm#Node199">The <font face="sans-serif"> Info</font> Object 
</a>,  
page <a href="node199.htm#Node199">The <font face="sans-serif"> Info</font> Object 
</a>.)  
<P> 
These hints mainly affect access patterns  
and the layout of data on parallel I/O devices.  
  
For each hint name introduced, we  
describe the purpose of the hint, and the type of the hint value.  
The ``<b> [SAME]</b>'' annotation specifies that the hint values  
  
provided by all participating processes must be identical;  
otherwise the program is erroneous.  
In addition, some hints are context dependent,  
and are only used by an implementation at specific times  
(e.g., <font face="sans-serif"> file_perm</font> is only useful during file creation).  
<P> 
  
<P> 
<dl> 
 
<dt> 
<b>{</b><font face="sans-serif"> access_style}</font> (comma separated list of strings):</b><dd> 
This hint specifies the manner in which the file will be  
accessed until the file is closed  
  
or until the <font face="sans-serif"> access_style</font> key value is altered.  
  
The hint value is a comma separated list of the following:  
<font face="sans-serif"> read_once</font>, <font face="sans-serif"> write_once</font>,  
<font face="sans-serif"> read_mostly</font>, <font face="sans-serif"> write_mostly</font>,  
<font face="sans-serif"> sequential</font>, <font face="sans-serif"> reverse_sequential</font>,  
and <font face="sans-serif"> random</font>.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> collective_buffering}</font> (boolean) {SAME}:</b><dd> 
This hint specifies whether the application may benefit  
from collective buffering.  
Collective buffering is an optimization performed on collective accesses.  
Accesses to the file are performed on behalf of all processes in the group  
by a number of target nodes.  
These target nodes coalesce small requests into large disk accesses.  
  
Legal values for this key are <font face="sans-serif"> true</font> and <font face="sans-serif"> false</font>.  
Collective buffering parameters are further directed via  
  
additional hints: <font face="sans-serif"> cb_block_size</font>,  
<font face="sans-serif"> cb_buffer_size</font>, and <font face="sans-serif"> cb_nodes</font>.  
  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> cb_block_size}</font> (integer) {SAME}:</b><dd> 
This hint specifies the block size to be used  
for collective buffering file access.  
<em> Target nodes</em> access data in chunks of this size.  
The chunks are distributed among target nodes  
in a round-robin (CYCLIC) pattern.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> cb_buffer_size}</font> (integer) {SAME}:</b><dd> 
This hint specifies the total buffer space that can be used  
for collective buffering on each target node,  
usually a multiple of <font face="sans-serif"> cb_block_size</font>.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> cb_nodes}</font> (integer) {SAME}:</b><dd> 
This hint specifies the number of target nodes to be used  
for collective buffering.  
  
<P> 
  
 
<dt> 
<b>{</b><font face="sans-serif"> chunked}</font> (comma separated list of integers) {SAME}:</b><dd> 
This hint specifies that the file consists of a multidimentional  
array that is often accessed by subarrays.  
The value for this hint is a comma separated list of array dimensions,  
starting from the most significant one  
(for an array stored in row-major order, as in C,  
the most significant dimension is the first one;  
for an array stored in column-major order, as in Fortran,  
the most significant dimension is the last one,  
and array dimensions should be reversed).  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> chunked_item}</font> (comma separated list of integers) {SAME}:</b><dd> 
This hint specifies the size of each array entry, in bytes.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> chunked_size}</font> (comma separated list of integers) {SAME}:</b><dd> 
This hint specifies the dimensions of the subarrays.  
This is a comma separated list of array dimensions,  
starting from the most significant one.  
<P> 
  
<P> 
  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> filename}</font> (string):</b><dd> 
This hint specifies the file name used when the file was opened.  
If the implementation is capable of returning the file name  
of an open file,  
it will be returned using this key by <font face="sans-serif"> MPI_FILE_GET_INFO</font>.  
This key is ignored when passed to  
<font face="sans-serif"> MPI_FILE_OPEN</font>, <font face="sans-serif"> MPI_FILE_SET_VIEW</font>,   
  
<font face="sans-serif"> MPI_FILE_SET_INFO</font>, and <font face="sans-serif"> MPI_FILE_DELETE</font>.  
  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> file_perm}</font> (string) {SAME}:</b><dd> 
This hint specifies the file permissions to use for file creation.  
Setting this hint is only useful when passed to <font face="sans-serif"> MPI_FILE_OPEN</font>  
with an <font face="sans-serif"> amode</font> that includes <font face="sans-serif">  MPI_MODE_CREATE</font>.  
The set of legal values for this key is implementation dependent.  
  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> io_node_list}</font> (comma separated list of strings) {SAME}:</b><dd> 
This hint specifies the list of I/O devices  
that should be used to store the file.  
  
This hint is most relevant when the file is created.  
  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> nb_proc}</font> (integer) {SAME}:</b><dd> 
This hint specifies the number of parallel processes that will  
typically be assigned to run programs that access this file.  
This hint is most relevant when the file is created.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> num_io_nodes}</font> (integer) {SAME}:</b><dd> 
This hint specifies the number of I/O devices in the system.  
  
  
This hint is most relevant when the file is created.  
 
<dt> 
<b>{</b><font face="sans-serif"> striping_factor}</font> (integer) {SAME}:</b><dd> 
This hint specifies the number of I/O devices  
that the file should be striped across, and is  
relevant only when the file is created.  
<P> 
 
<dt> 
<b>{</b><font face="sans-serif"> striping_unit}</font> (integer) {SAME}:</b><dd> 
This hint specifies the suggested striping unit to be used for this file.  
The striping unit is the amount  
of consecutive data assigned to one I/O device  
before progressing to the next device,  
when striping across a number of devices.  
It is expressed in bytes.  
This hint is relevant only when the file is created.  
<P> 
</dl> 
<BR> 

<P>
<HR>
<A HREF="node272.htm#Node272"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node272.htm#Node272"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node274.htm#Node274"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node272.htm#Node272"> File Info</a>
<b>Next: </b><A HREF="node274.htm#Node274"> File Views</a>
<b>Previous: </b><A HREF="node272.htm#Node272"> File Info</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
