<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-binding/binding-2.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>Status</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node362">322. Status</a></H2>
<A HREF="node361.htm#Node361"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node357.htm#Node357"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node363.htm#Node363"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node357.htm#Node357"> Language Interoperability</a>
<b>Next: </b><A HREF="node363.htm#Node363"> MPI Opaque Objects</a>
<b>Previous: </b><A HREF="node361.htm#Node361"> Transfer of Handles</a>
<P>
  
<P> 
The following two procedures are provided in C to convert from a  
Fortran status (which is an array of integers) to a C status (which is  
a structure), and vice versa.    
  
The conversion occurs on all the information in status, including that which  
is hidden.  That is, no status information is lost in the conversion. <BR>  
  
  
  
 <tt> int MPI_Status_f2c(MPI_Fint *f_status, MPI_Status *c_status) <BR></tt>  
<P> 
If <font face="sans-serif"> f_status</font> is a valid Fortran status, but not the Fortran value of  
<font face="sans-serif">  MPI_STATUS_IGNORE</font> or <font face="sans-serif">  MPI_STATUSES_IGNORE</font>, then  
<font face="sans-serif"> MPI_Status_f2c</font> returns in <font face="sans-serif"> c_status</font> a valid C status with  
the same content.  If <font face="sans-serif"> f_status</font> is the Fortran value of  
<font face="sans-serif">  MPI_STATUS_IGNORE</font> or <font face="sans-serif">  MPI_STATUSES_IGNORE</font>, or if  
<font face="sans-serif"> f_status</font> is not a valid Fortran status, then the call is erroneous.  
<P> 
The C status has the same source, tag and error code values as the  
Fortran status, and returns the same answers when queried for count,  
elements, and cancellation.  
The conversion function may be called with a Fortran status argument that  
has  
an undefined error field, in which case the value of the error field  
in the C status argument is undefined.  
  
<P> 
Two global variables of type <tt> MPI_Fint*</tt>,  
<font face="sans-serif">  MPI_F_STATUS_IGNORE</font> and <font face="sans-serif">  MPI_F_STATUSES_IGNORE</font>  
are declared in mpi.h.  They can be used to test, in C, whether  
<font face="sans-serif"> f_status</font> is the Fortran value of <font face="sans-serif">  MPI_STATUS_IGNORE</font>  
or <font face="sans-serif">  MPI_STATUSES_IGNORE</font>, respectively.  These are global  
variables, not C constant expressions and cannot be used in places  
where C requires constant expressions. Their value is defined only  
between the calls to <font face="sans-serif"> MPI_INIT</font> and <font face="sans-serif"> MPI_FINALIZE</font>  
and should not be changed by user code.  
<P> 
To do the conversion in the other direction, we have the following:  
<P> 
 <tt> int MPI_Status_c2f(MPI_Status *c_status, MPI_Fint *f_status) <BR></tt>  
  
<P> 
This call converts a C status into a Fortran status, and has a behavior  
similar to <font face="sans-serif"> MPI_Status_f2c</font>.  That is, the value of  
<font face="sans-serif"> c_status</font> must not be either <font face="sans-serif">  MPI_STATUS_IGNORE</font> or  
<font face="sans-serif">  MPI_STATUSES_IGNORE</font>.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
There is not a separate conversion function for arrays of statuses, since one  
can simply loop through the array, converting each status.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
<em> Rationale.</em>  
<P> 
The handling of <font face="sans-serif">  MPI_STATUS_IGNORE</font> is required in order to  
layer libraries with only a C wrapper: if the Fortran call has passed  
<font face="sans-serif">  MPI_STATUS_IGNORE</font>, then the C wrapper must handle this  
correctly.  
Note that this constant need not have the same value in  
Fortran and C.  If <font face="sans-serif"> MPI_Status_f2c</font> were to handle  
<font face="sans-serif">  MPI_STATUS_IGNORE</font>, then the type of its result would have to be  
<tt> MPI_Status**</tt>, which was considered an inferior solution.  
 (<em> End of rationale.</em>) <BR> 
  
<P> 
<P> 
<P> 
  
<P> 

<P>
<HR>
<A HREF="node361.htm#Node361"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node357.htm#Node357"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node363.htm#Node363"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node357.htm#Node357"> Language Interoperability</a>
<b>Next: </b><A HREF="node363.htm#Node363"> MPI Opaque Objects</a>
<b>Previous: </b><A HREF="node361.htm#Node361"> Transfer of Handles</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
