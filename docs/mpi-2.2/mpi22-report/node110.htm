<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-coll/coll.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>Process-local reduction</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node110">108. Process-local reduction</a></H2>
<A HREF="node109.htm#Node109"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node102.htm#Node102"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node111.htm#Node111"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node102.htm#Node102"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node111.htm#Node111"> Reduce-Scatter</a>
<b>Previous: </b><A HREF="node109.htm#Node109"> All-Reduce</a>
<P>
  
The functions in this section are of importance to library implementors  
who may want to implement special reduction patterns that are otherwise  
not easily covered by the standard <font face="sans-serif"> MPI</font> operations.  
<P> 
The following function applies a reduction operator to local arguments.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_REDUCE_LOCAL( inbuf, inoutbuf, count, datatype, op)</TD></TR>  
<TR><TD> IN inbuf</TD><TD> input buffer (choice)</TD></TR>  
<TR><TD> INOUT inoutbuf</TD><TD> combined input and output buffer (choice)</TD></TR>  
<TR><TD> IN count</TD><TD> number of elements in <font face="sans-serif"> inbuf</font> and <font face="sans-serif"> inoutbuf</font> buffers (non-negative integer)</TD></TR>  
<TR><TD> IN datatype</TD><TD> data type of elements of <font face="sans-serif"> inbuf</font> and <font face="sans-serif"> inoutbuf</font> buffers (handle)</TD></TR>  
<TR><TD> IN op</TD><TD> operation (handle)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_Reduce_local(void* inbuf, void* inoutbuf, int count, MPI_Datatype datatype, MPI_Op op) <BR></tt>  
<P> 
 <tt> MPI_REDUCE_LOCAL(INBUF, INOUBUF, COUNT, DATATYPE, OP, IERROR) <BR> &lt;type&gt; INBUF(*), INOUTBUF(*) <BR>INTEGER COUNT, DATATYPE, OP, IERROR <BR></tt>  
<P> 
  
 <font color="red">{<font color="black"> void MPI::Op::Reduce_local(const void* inbuf, void* inoutbuf, int count, const MPI::Datatype&amp; datatype) const <font color="red"><em> (binding deprecated, see Section <a href="node328.htm#Node328">Deprecated since <font face="sans-serif"> MPI-2.2</font> 
</a>)</em> }<font color="black"><BR>  
  
<P> 
The function applies the operation given by <font face="sans-serif"> op</font> element-wise to the elements of  
<font face="sans-serif"> inbuf</font> and <font face="sans-serif"> inoutbuf</font> with the result stored element-wise in <font face="sans-serif"> inoutbuf</font>,  
as explained for user-defined operations in Section <a href="node107.htm#Node107">User-Defined Reduction Operations 
</a>.  
Both <font face="sans-serif"> inbuf</font> and <font face="sans-serif"> inoutbuf</font> (input as well as result) have the same number  
of elements given by <font face="sans-serif"> count</font> and the same datatype given by <font face="sans-serif"> datatype</font>.  
The <font face="sans-serif">  MPI_IN_PLACE</font> option is not allowed.  
<P> 
Reduction operations can be queried for their commutativity.  
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_OP_COMMUTATIVE( op, commute)</TD></TR>  
<TR><TD> IN op</TD><TD> operation (handle)</TD></TR>  
<TR><TD> OUT commute</TD><TD> <tt> true</tt> if <font face="sans-serif"> op</font> is commutative, <tt> false</tt> otherwise (logical)</TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_Op_commutative(MPI_Op op, int *commute) <BR></tt>  
<P> 
 <tt> MPI_OP_COMMUTATIVE(OP, COMMUTE, IERROR) <BR> LOGICAL COMMUTE <BR>INTEGER OP, IERROR <BR></tt>  
<P> 
  
 <font color="red">{<font color="black"> bool MPI::Op::Is_commutative() const <font color="red"><em> (binding deprecated, see Section <a href="node328.htm#Node328">Deprecated since <font face="sans-serif"> MPI-2.2</font> 
</a>)</em> }<font color="black"><BR>  
  
<P> 
<font color="black">  
<P> 

<P>
<HR>
<A HREF="node109.htm#Node109"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node102.htm#Node102"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node111.htm#Node111"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node102.htm#Node102"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node111.htm#Node111"> Reduce-Scatter</a>
<b>Previous: </b><A HREF="node109.htm#Node109"> All-Reduce</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
