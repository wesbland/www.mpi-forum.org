<HTML>
<HEAD>
<!-- This file was generated by tohtml from chap-terms/terms-2.tex -->
<!-- with the command
tohtml erif"> MPI-2.0</font>
-->
<TITLE>Error Handling</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node35">35. Error Handling</a></H1>
<A HREF="node34.htm#Node34"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="mpi22-report.htm#Node0"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node36.htm#Node36"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="mpi22-report.htm#Node0">Contents</a>
<b>Next: </b><A HREF="node36.htm#Node36"> Implementation Issues</a>
<b>Previous: </b><A HREF="node34.htm#Node34"> Processes</a>
<P>
<font face="sans-serif"> MPI</font> provides the user with reliable message transmission.  
A message sent is always received  
correctly, and the user does not need to check for transmission errors,  
time-outs, or other error conditions.  In  
other words, <font face="sans-serif"> MPI</font> does not provide mechanisms for  
dealing with failures in the communication system.  
If the <font face="sans-serif"> MPI</font> implementation is built on an unreliable underlying  
mechanism, then it is the job of the implementor of the <font face="sans-serif"> MPI</font> subsystem  
to insulate the user from this unreliability, or to reflect unrecoverable  
errors as failures.  
Whenever possible, such failures will be reflected as errors in the relevant  
communication call.  
Similarly, <font face="sans-serif"> MPI</font> itself provides no mechanisms for  
handling processor failures.  
<P> 
Of course, <font face="sans-serif"> MPI</font> programs may still be erroneous.  A <b> program error</b> can  
occur when an <font face="sans-serif"> MPI</font> call is made with an incorrect argument (non-existing  
destination in a send operation, buffer too small in a receive  
operation, etc.).  
This type of error would occur in any implementation.  
In addition, a <b> resource error</b> may occur when a program exceeds the amount  
of available system resources (number of pending messages, system buffers,  
etc.).   The occurrence of this type of error depends on the amount of  
available resources in the system and the resource allocation mechanism used;  
this may differ from system to system.   A high-quality  
implementation will provide generous limits on the important  
resources so as to alleviate the portability problem this  
represents.  
<P> 
In C and Fortran, almost all <font face="sans-serif"> MPI</font> calls return a code that indicates  
successful completion of the operation.  Whenever possible, <font face="sans-serif"> MPI</font>  
calls return an error code if an error occurred during the call.  By  
default, an error detected during the execution of the <font face="sans-serif"> MPI</font> library  
causes the parallel computation to abort,  
  
except for file operations.  
  
However, <font face="sans-serif"> MPI</font> provides  
mechanisms for users to change this default and to handle recoverable  
errors.  The user may specify that no error is fatal, and handle error  
codes returned by <font face="sans-serif"> MPI</font> calls by himself or herself.  Also, the user  
may provide his or her own error-handling routines, which will be  
invoked whenever an <font face="sans-serif"> MPI</font> call returns abnormally.  The <font face="sans-serif"> MPI</font> error  
handling facilities are described   
in Section <a href="node187.htm#Node187">Error Handling 
</a>.  
The return values of  
C++ functions are not error codes.    
  
If the default error handler has been set to  
<font face="sans-serif">  MPI::ERRORS_THROW_EXCEPTIONS</font>, the C++ exception mechanism is  
used to signal an error by throwing an  
  
<font face="sans-serif">  MPI::Exception</font>  
  
object.  
See also Section <a href="node338.htm#Node338">Exceptions 
</a> on page <a href="node338.htm#Node338">Exceptions 
</a>.   
  
Several factors limit the ability of <font face="sans-serif"> MPI</font> calls to return with meaningful error  
codes when an error occurs.  
<font face="sans-serif"> MPI</font> may not be able to detect some errors;  other errors may be too  
expensive to detect in normal execution mode; finally some errors may be  
``catastrophic'' and may prevent <font face="sans-serif"> MPI</font> from returning control to the caller in a  
consistent state.  
<P> 
Another subtle issue arises because of the nature of asynchronous  
communications:  
<font face="sans-serif"> MPI</font> calls may initiate operations that continue  
asynchronously after the call returned.  Thus, the operation may return with a  
code indicating successful completion, yet later cause an error exception to be  
raised.  If there is a subsequent call that relates to the same  
operation (e.g.,  
a call that verifies that an asynchronous operation has completed) then the  
error argument associated with this call will be used to indicate the nature  
of the error.  In a few cases, the error may occur after all calls that  
relate to the operation have completed, so that no error value can be used  
to indicate the nature of the error (e.g., an error on the receiver in  
a send with the ready mode).  Such an error must be treated as fatal, since  
information cannot be returned for the user to recover from it.  
<P> 
This document does not specify the state of a computation after an erroneous  
<font face="sans-serif"> MPI</font> call has occurred.  
The desired behavior is that a relevant error code be returned, and the effect  
of the error be localized to the greatest possible extent.  E.g., it is highly  
desirable that an erroneous receive call will not cause any part of the  
receiver's memory to be overwritten, beyond the area specified for receiving the  
message.  
<P> 
Implementations may  
go beyond this document in supporting in a meaningful manner <font face="sans-serif"> MPI</font> calls  
that are defined here to be erroneous.   For example, <font face="sans-serif"> MPI</font> specifies  
strict type matching rules between matching send and receive  
operations: it is erroneous to send a floating point variable and receive an  
integer.  Implementations may go beyond these type matching rules, and provide  
automatic type conversion in such situations.  It will be helpful to generate  
warnings for such non-conforming behavior.  
<P> 
<font face="sans-serif"> MPI</font>   
defines a way for users to create new error codes as defined  
in Section <a href="node193.htm#Node193">Error Classes, Error Codes, and Error Handlers 
</a>.  
<P> 

<P>
<HR>
<A HREF="node34.htm#Node34"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="mpi22-report.htm#Node0"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node36.htm#Node36"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="mpi22-report.htm#Node0">Contents</a>
<b>Next: </b><A HREF="node36.htm#Node36"> Implementation Issues</a>
<b>Previous: </b><A HREF="node34.htm#Node34"> Processes</a>
<P>
<HR>
Return to <A HREF="node434.htm">MPI-2.2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>(Unofficial) MPI-2.2 of September 4, 2009<BR>
HTML Generated on September 10, 2009
</FONT>
</BODY>
</HTML>
