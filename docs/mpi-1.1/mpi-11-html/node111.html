<HTML>
<!-- This file was generated by tohtml from context.tex -->
<TITLE>Inter-Communication</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node111">5.6. Inter-Communication</a></H1>
<A HREF="node110.html#Node110"><IMG SRC="previous.gif"></A><A HREF="node87.html#Node87"><IMG SRC="up.gif"></A><A HREF="node112.html#Node112"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node87.html#Node87"> Groups, Contexts, and Communicators</a>
<b>Next: </b><A HREF="node112.html#Node112"> Inter-communicator Accessors</a>
<b>Previous: </b><A HREF="node110.html#Node110"> Library Example #2</a>
<P>
This section introduces the concept of inter-communication and  
describes the portions of  MPI that support it.  It describes support for  
writing programs that contain user-level servers.  
<P> 
All point-to-point communication described thus far has involved  
communication between processes that are members of the same group.  This type  
of communication is called ``intra-communication'' and the  
communicator used is called an ``intra-communicator,'' as we have noted  
earlier in the chapter.  
<P> 
In modular and multi-disciplinary applications, different process groups  
execute distinct modules and processes within different modules communicate  
with one another in a pipeline or a more general module graph.  In these  
applications, the most natural way for a process to specify a target process  
is by the rank of the target process within the target group.  In applications  
that contain internal user-level servers, each server may be a process group  
that provides services to one or more clients, and each client may be a  
process group that uses the services of one or more servers.  It is again most  
natural to specify the target process by rank within the target group in these  
applications.  This type of communication is called  
``inter-communication'' and the communicator used is called an  
``inter-communicator,'' as introduced earlier.  
<P> 
An inter-communication  is a point-to-point communication  
between processes in different groups.  The group containing a process that  
initiates an inter-communication operation is called the ``local  
group,'' that is, the sender in a send and the receiver in a receive.  The  
group containing the target process is called the ``remote group,'' that is,  
the receiver in a send and the sender in a receive.  As in  
intra-communication, the target process is specified using a  
 (communicator, rank) pair.  Unlike intra-communication, the  
rank is relative to a second, remote group.  
<P> 
All inter-communicator constructors  
are blocking and require that the local and remote groups be disjoint in order  
to avoid deadlock.  
<P> 
Here is a summary of the properties of inter-communication and  
inter-communicators:  
<ul> 
 
<li>The syntax of point-to-point communication is  
the same for both inter- and intra-communication.  The same  
communicator can be used both for send and for receive operations.  
<P> 
 
<li>A target process is addressed by its rank in the remote group, both for sends  
and for receives.  
<P> 
 
<li>Communications  using  an  inter-communicator are guaranteed not  to  
conflict with any communications that use a different communicator.  
<P> 
 
<li>An inter-communicator cannot be used for collective communication.  
<P> 
 
<li>A  communicator  will provide  either  intra- or  
inter-communication, never both.  
</ul> 
<BR> 
 The routine  MPI_COMM_TEST_INTER may be used to determine if  
a communicator is an inter- or intra-communicator.  Inter-communicators can be  
used as arguments to some of the other communicator access routines.  
Inter-communicators cannot be used as input to some of the constructor routines  
for intra-communicators (for instance,  MPI_COMM_CREATE).  
<P> 
 
<BR> 
[]<em> Advice  
 to implementors.</em>  
<P> 
For the purpose of point-to-point communication,  
communicators can be represented in each process by a tuple consisting of:  
<dl> 
 
<dt> 
<b>group</b><dd> 
 
<dt> 
<b>send_context</b><dd> 
 
<dt> 
<b>receive_context</b><dd> 
 
<dt> 
<b>source</b><dd> 
</dl> 
<BR> 
 For inter-communicators, <b> group</b> describes the remote group, and  
<b> source</b> is the rank of the process in the local group.  
For intra-communicators, <b> group</b> is the communicator group  
(remote=local), <b> source</b> is the rank of the process in this group,  
and <b> send context</b> and <b> receive context</b> are identical.  
A group is represented by a rank-to-absolute-address translation table.  
<P> 
The inter-communicator cannot be discussed sensibly without  
considering processes in both the local and remote groups.  Imagine a  
process <b> P</b> in group <IMG SRC="img148.gif">
, which has an inter-communicator  
<b> <IMG SRC="img149.gif">
</b>, and a process  
<b> Q</b> in group <IMG SRC="img150.gif">
, which has an inter-communicator  
<b> <IMG SRC="img151.gif">
</b>.  
Then  
<ul> 
 
<li><b> <IMG SRC="img152.gif">
.group</b> describes the group <IMG SRC="img153.gif">
 and <b> <IMG SRC="img154.gif">
.group</b>  
describes the group <IMG SRC="img155.gif">
.  
 
<li><b> <IMG SRC="img156.gif">
.send_context = <IMG SRC="img157.gif">
.receive_context</b> and the context is  
unique in <IMG SRC="img158.gif">
; <BR>  
<b> <IMG SRC="img159.gif">
.receive_context =  <IMG SRC="img160.gif">
.send_context</b> and this context is  
unique in <IMG SRC="img161.gif">
.  
 
<li><b> <IMG SRC="img162.gif">
.source</b> is rank of <b> P</b> in <IMG SRC="img163.gif">
 and <b> <IMG SRC="img164.gif">
.source</b> is  
rank of <b> Q</b> in <IMG SRC="img165.gif">
.  
</ul> 
<BR> 
Assume that <b> P</b> sends a message to <b> Q</b> using the  
inter-communicator.  Then <b> P</b> uses the <b> group</b> table to find  
the absolute address of <b> Q</b>; <b> source</b> and <b> send_context</b>  
are appended to the message.  
<P> 
Assume that <b> Q</b> posts a receive with an explicit source argument  
using the inter-communicator.  Then <b> Q</b> matches <b>  
receive_context</b> to the message context and source argument to the  
message source.  
<P> 
The same algorithm is appropriate for intra-communicators as well.  
<P> 
In order to support inter-communicator accessors and constructors, it  
is necessary to supplement this model with additional structures, that  
store information about the local communication group, and additional  
safe contexts.  
 (<em> End of advice to implementors.</em>) <BR> 
<menu> 
</menu> 

<P>
<HR>
<A HREF="node110.html#Node110"><IMG SRC="previous.gif"></A><A HREF="node87.html#Node87"><IMG SRC="up.gif"></A><A HREF="node112.html#Node112"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node87.html#Node87"> Groups, Contexts, and Communicators</a>
<b>Next: </b><A HREF="node112.html#Node112"> Inter-communicator Accessors</a>
<b>Previous: </b><A HREF="node110.html#Node110"> Library Example #2</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
