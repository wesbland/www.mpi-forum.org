<HTML>
<!-- This file was generated by tohtml from coll.tex -->
<TITLE>Reduce</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node77">4.9.1. Reduce</a></H2>
<A HREF="node76.html#Node76"><IMG SRC="previous.gif"></A><A HREF="node76.html#Node76"><IMG SRC="up.gif"></A><A HREF="node78.html#Node78"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node78.html#Node78"> Predefined reduce operations</a>
<b>Previous: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<P>
  
<P> 
    
      
      
      
      
     MPI_REDUCE( sendbuf, recvbuf, count, datatype, op,  
root, comm)  
     
<BR> 
[  IN    sendbuf]  address of send buffer (choice)  
 
<BR> 
[  OUT    recvbuf]  address of receive buffer (choice,  
significant only at root)  
 
<BR> 
[  IN    count]  number of elements in send buffer (integer)  
 
<BR> 
[  IN    datatype]  data type of elements of send buffer (handle)  
 
<BR> 
[  IN    op]  reduce operation (handle)  
 
<BR> 
[  IN    root]  rank of root process (integer)  
 
<BR> 
[  IN    comm]   communicator (handle)  
<BR> 
  
<P> 
 <tt> int MPI_Reduce(void* sendbuf, void* recvbuf, int count, MPI_Datatype datatype, MPI_Op op, int root, MPI_Comm comm) <BR></tt>  
<P> 
 <tt> MPI_REDUCE(SENDBUF, RECVBUF, COUNT, DATATYPE, OP, ROOT, COMM, IERROR) <BR> &lt;type&gt; SENDBUF(*), RECVBUF(*) <BR>INTEGER COUNT, DATATYPE, OP, ROOT, COMM, IERROR <BR></tt>  
<P> 
 MPI_REDUCE combines the elements provided  
in the input buffer of each process in the  
group, using the operation  op, and returns the combined value in  
the output buffer of the process with rank  root.  
The input buffer is defined by the arguments  sendbuf,  
 count and  datatype; the output buffer is defined by  
the arguments  recvbuf,  count and  datatype;  
both have the same number of elements, with the same type.  
The routine is called by all group members using the same arguments  
for  count, datatype, op, root and  comm.  
Thus, all processes provide input buffers and output buffers of the  
same length, with elements of the same type.  
Each process can provide one element, or a sequence of elements,  
in which case the  
combine operation is executed element-wise on each entry of the sequence.  
For example, if the operation is  MPI_MAX and the send buffer  
contains two elements that are floating point numbers ( count = 2 and  
 datatype =  MPI_FLOAT), then <IMG SRC="img123.gif">
 and <IMG SRC="img124.gif">
.  
<P> 
Sec. <a href="node78.html#Node78">Predefined reduce operations
</a>, lists the set of predefined operations  
provided by  MPI. That section also enumerates  
the datatypes each operation can be applied to.  
In addition, users may define their own operations that can be  
overloaded to operate on several datatypes, either basic or derived.  
This is further explained in Sec. <a href="node80.html#Node80">User-Defined Operations
</a>.  
<P> 
The operation  op is always assumed to be  
associative.  All predefined operations are also assumed to be  
commutative.  Users may define operations that are assumed to be  
associative, but not commutative.  The ``canonical'' evaluation order  
of a reduction is determined by the ranks of the processes in the  
group.  However, the implementation can take  
advantage of associativity, or associativity and commutativity  
in order to change the order of evaluation.  
This may change the result of the reduction for operations that are not  
strictly associative and commutative, such as floating point addition.  
<P> 
 
<BR> 
[]<em> Advice  
 to implementors.</em>  
<P> 
It is strongly recommended that  MPI_REDUCE be implemented so  
that the same result be obtained  
whenever the function is applied on the same arguments,  
appearing in the same order.  Note that this may  
prevent optimizations that take  
advantage of the physical location of processors.  
 (<em> End of advice to implementors.</em>) <BR> 
The  datatype argument of  MPI_REDUCE must be  
compatible with  op.  Predefined operators work only with  
the  MPI types listed in Sec. <a href="node78.html#Node78">Predefined reduce operations
</a> and Sec.  
<a href="node79.html#Node79">MINLOC and MAXLOC
</a>.  User-defined operators may operate  
on general, derived datatypes.  In this case, each argument that  
the reduce operation is applied to is one element described by such a datatype,  
which may contain several basic values.  
This is further explained in Section <a href="node80.html#Node80">User-Defined Operations
</a>.  
<P> 

<P>
<HR>
<A HREF="node76.html#Node76"><IMG SRC="previous.gif"></A><A HREF="node76.html#Node76"><IMG SRC="up.gif"></A><A HREF="node78.html#Node78"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node78.html#Node78"> Predefined reduce operations</a>
<b>Previous: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
