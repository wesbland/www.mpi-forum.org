<HTML>
<!-- This file was generated by tohtml from pt2pt.tex -->
<TITLE>Address and extent functions</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node56">3.12.2. Address and extent functions</a></H2>
<A HREF="node55.html#Node55"><IMG SRC="previous.gif"></A><A HREF="node54.html#Node54"><IMG SRC="up.gif"></A><A HREF="node57.html#Node57"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node54.html#Node54"> Derived datatypes</a>
<b>Next: </b><A HREF="node57.html#Node57"> Lower-bound and upper-bound markers</a>
<b>Previous: </b><A HREF="node55.html#Node55"> Datatype constructors</a>
<P>
  
<P> 
The displacements in a general datatype are relative to some initial buffer  
address.  <b> Absolute addresses</b> can be substituted for these  
displacements: we treat them as displacements relative to ``address  
zero,'' the start of the address space.  This initial address zero is  
indicated by the constant  MPI_BOTTOM.  Thus, a datatype can  
specify the absolute address of the entries in the communication  
buffer, in which case the  buf argument is passed the value  
 MPI_BOTTOM.  
<P> 
The address of a location in memory can be found by invoking the  
function <BR>  
 MPI_ADDRESS.  
<P> 
    
      
      
      
      
     MPI_ADDRESS(location, address)  
     
<BR> 
[  IN   location] location in caller memory (choice)  
 
<BR> 
[  OUT   address] address of location (integer)  
<BR> 
  
<P> 
 <tt> int MPI_Address(void* location, MPI_Aint *address) <BR></tt>  
<P> 
 <tt> MPI_ADDRESS(LOCATION, ADDRESS, IERROR)<BR> &lt;type&gt; LOCATION(*) <BR>INTEGER  ADDRESS, IERROR <BR></tt>  
<P> 
Returns the (byte) address of  location.  
<P> 
<BR><b> Example</b>   
  
Using  MPI_ADDRESS for an array.  
<P> 
<BR> 
<pre><tt>REAL A(100,100) 
   INTEGER I1, I2, DIFF 
   CALL MPI_ADDRESS(A(1,1), I1, IERROR) 
   CALL MPI_ADDRESS(A(10,10), I2, IERROR) 
   DIFF = I2 - I1 
! The value of DIFF is 909*sizeofreal; the values of I1 and I2 are 
! implementation dependent. 
</tt></pre> 
   
<P> 
 
<BR> 
[]<em> Advice to users.</em>  
<P> 
C users may be tempted to avoid the usage of  MPI_ADDRESS and rely on  
the availability of the address operator &amp;.  Note, however, that  
 &amp; <em> cast-expression</em> is a pointer, not an  
address.  ANSI C does not require that the value of a pointer  
(or the pointer cast to  int) be  
the absolute address of the object pointed at --- although this is  
commonly the case.  
Furthermore, referencing may not have a unique  
definition on machines with a segmented address space.  
The use of  MPI_ADDRESS to ``reference'' C  
variables guarantees portability to such machines as well.  
 (<em> End of advice to users.</em>) <BR> 
The following  auxiliary functions provide useful information on  
derived datatypes.  
<P> 
    
      
      
      
      
     MPI_TYPE_EXTENT(datatype, extent)  
     
<BR> 
[  IN   datatype] datatype (handle)  
 
<BR> 
[  OUT   extent] datatype extent (integer)  
<BR> 
  
<P> 
  
 <tt> int MPI_Type_extent(MPI_Datatype datatype, MPI_Aint *extent) <BR></tt>  
  
<P> 
 <tt> MPI_TYPE_EXTENT(DATATYPE, EXTENT, IERROR)<BR> INTEGER DATATYPE, EXTENT, IERROR <BR></tt>  
<P> 
Returns the extent of a datatype,  
where extent is as defined.  
<P> 
    
      
      
      
      
     MPI_TYPE_SIZE(datatype, size)  
     
<BR> 
[  IN   datatype] datatype (handle)  
 
<BR> 
[  OUT   size] datatype size (integer)  
<BR> 
  
<P> 
 <tt> int MPI_Type_size(MPI_Datatype datatype, int *size) <BR></tt>  
<P> 
 <tt> MPI_TYPE_SIZE(DATATYPE, SIZE, IERROR)<BR> INTEGER DATATYPE, SIZE, IERROR <BR></tt>  
<P> 
 MPI_TYPE_SIZE returns the total size, in bytes, of the entries in  
the type signature  
associated with  datatype; i.e., the total size of  
the data in a message that would be created with this datatype.  Entries that  
occur multiple times in the datatype are counted with their multiplicity.  
<P> 
  
<P> 
<P> 
<P> 
  
<P> 

<P>
<HR>
<A HREF="node55.html#Node55"><IMG SRC="previous.gif"></A><A HREF="node54.html#Node54"><IMG SRC="up.gif"></A><A HREF="node57.html#Node57"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node54.html#Node54"> Derived datatypes</a>
<b>Next: </b><A HREF="node57.html#Node57"> Lower-bound and upper-bound markers</a>
<b>Previous: </b><A HREF="node55.html#Node55"> Datatype constructors</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
