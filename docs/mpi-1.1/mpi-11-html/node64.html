<HTML>
<!-- This file was generated by tohtml from coll.tex -->
<TITLE>Introduction and Overview</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node64">4.1. Introduction and Overview</a></H1>
<A HREF="node63.html#Node63"><IMG SRC="previous.gif"></A><A HREF="node63.html#Node63"><IMG SRC="up.gif"></A><A HREF="node65.html#Node65"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<b>Next: </b><A HREF="node65.html#Node65"> Communicator argument</a>
<b>Previous: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<P>
Collective communication is defined as communication that involves  
a group of processes.  
The functions of this type provided by  MPI are the following:  
<ul> 
 
<li>Barrier synchronization across all group members (Sec. <a href="node66.html#Node66">Barrier synchronization
</a>).  
 
<li>Broadcast from one member to all members of a group  
(Sec. <a href="node67.html#Node67">Broadcast
</a>). This is shown in  
figure <a href="node64.html#Figure2">2
</a>.  
 
<li>Gather data from all group members to one member  
(Sec. <a href="node69.html#Node69">Gather
</a>). This is shown in  
figure <a href="node64.html#Figure2">2
</a>.  
 
<li>Scatter data from one member to all members of a group  
(Sec. <a href="node71.html#Node71">Scatter
</a>). This is shown in  
figure <a href="node64.html#Figure2">2
</a>.  
 
<li>A variation on Gather where all members of the group receive the result  
(Sec. <a href="node73.html#Node73">Gather-to-all
</a>). This is shown as ``allgather'' in  
figure <a href="node64.html#Figure2">2
</a>.  
 
<li>Scatter/Gather data from all members to all members of a group  
(also called complete exchange or all-to-all) (Sec. <a href="node75.html#Node75">All-to-All Scatter/Gather
</a>).  
This is shown as ``alltoall'' in figure <a href="node64.html#Figure2">2
</a>.  
 
<li>Global reduction operations such as sum, max, min, or user-defined functions,  
where the result  
is returned to all group members and a variation where the result is  
returned to only one member (Sec. <a href="node76.html#Node76">Global Reduction Operations
</a>).  
 
<li>A combined reduction and scatter operation (Sec. <a href="node83.html#Node83">Reduce-Scatter
</a>).  
 
<li>Scan across all members of a group (also called prefix)  
(Sec. <a href="node84.html#Node84">Scan
</a>).  
</ul> 
<BR> 
  
  
<P><IMG SRC="coll-fig1.gif"><P>
  
<BR> 
<b>Figure 2: </b><A NAME="Figure2">Collective move functions illustrated
for a group of six processes. In each case, each row of boxes
represents data locations in one process. Thus, in the broadcast,
initially just the first process contains the data $A_0$, but after the
broadcast all processes contain it.</a><P> 
  
  
A collective operation is executed by having all processes in the group  
call the communication routine, with matching arguments.  
The syntax and semantics of the collective operations are  
defined to be consistent with the syntax and semantics of the  
point-to-point operations. Thus, general datatypes are allowed  
and must match between sending and receiving processes as specified  
in Chapter  <a href="node28.html#Node28">Point-to-Point Communication
</a>.  
One of the key arguments is a communicator that defines the group  
of participating processes and provides a context for the operation.  
Several collective routines such as broadcast and gather have  
a single originating or receiving process. Such processes  
are called the <em> root</em>.  
Some arguments in the collective functions are specified as  
``significant only at root,'' and are ignored for all  
participants except the root.  
The reader is referred to Chapter <a href="node28.html#Node28">Point-to-Point Communication
</a>  
for information concerning communication buffers,  
general datatypes and type matching rules, and to  
Chapter <a href="node87.html#Node87">Groups, Contexts, and Communicators
</a> for information on how to define groups and  
create communicators.  
<P> 
The type-matching conditions for the collective operations are more  
strict than the corresponding conditions between sender and receiver  
in point-to-point.  Namely, for collective operations,  
the amount of data sent must exactly  
match the amount of data specified by the receiver.  
Distinct type maps (the layout in memory, see Sec. <a href="node54.html#Node54">Derived datatypes
</a>)  
between sender and receiver are still allowed.  
<P> 
Collective routine calls can (but are not required to) return as soon as their  
participation in the collective communication is complete.  The completion  
of a call indicates that the caller is now free to access locations in the  
communication buffer.  It does not indicate that other processes in  
the group have completed or even  
started the operation (unless otherwise indicated in the  
description of the operation).  
Thus, a collective communication call may, or  
may not, have the effect of synchronizing all calling processes.  
This statement excludes, of course, the barrier function.  
<P> 
Collective communication calls may use the same  
communicators as point-to-point communication;  MPI guarantees that  
messages generated on behalf of collective communication calls will not  
be confused with messages generated by point-to-point communication.  
A more detailed discussion of correct use of collective  
routines is found in Sec. <a href="node86.html#Node86">Correctness
</a>.  
<P> 
 
<BR> 
[]<em> Rationale.</em>  
<P> 
The equal-data restriction (on type matching) was made so  
as to avoid the complexity  
of providing a facility analogous to the status  
argument of  MPI_RECV for discovering the amount of data sent.  
Some of the collective routines would require an array of status values.  
<P> 
The statements about synchronization are made so as to allow a variety  
of implementations of the collective functions.  
<P> 
The collective operations do not accept a message tag argument.  
If future revisions of  MPI define non-blocking collective functions,  
then tags (or a similar mechanism) will need to be added so as  
to allow the dis-ambiguation of multiple, pending, collective operations.  
 (<em> End of rationale.</em>) <BR> 
 
<BR> 
[]<em> Advice to users.</em>  
<P> 
It is dangerous to rely on synchronization  
side-effects of the collective operations for program correctness.  
For example, even though a particular implementation may  
provide a broadcast routine  
with a side-effect of synchronization, the standard does not require  
this, and a program that relies on this will not be portable.  
<P> 
On the other hand, a correct, portable program must allow for the fact  
that a collective call <em> may</em> be synchronizing.  Though one cannot  
rely on any synchronization side-effect, one must program so as to allow  
it.  These issues are discussed further in Sec. <a href="node86.html#Node86">Correctness
</a>.  
 (<em> End of advice to users.</em>) <BR> 
 
<BR> 
[]<em> Advice  
 to implementors.</em>  
<P> 
While vendors may write optimized collective routines matched to  
their architectures, a complete library of the collective communication  
routines can be written entirely using the  MPI point-to-point communication  
functions and a few auxiliary functions.  If implementing on top of  
point-to-point, a hidden, special communicator must be created for the  
collective operation so as to avoid interference with any on-going  
point-to-point communication at the time of the collective call.  This  
is discussed further in Sec. <a href="node86.html#Node86">Correctness
</a>.  
 (<em> End of advice to implementors.</em>) <BR> 

<P>
<HR>
<A HREF="node63.html#Node63"><IMG SRC="previous.gif"></A><A HREF="node63.html#Node63"><IMG SRC="up.gif"></A><A HREF="node65.html#Node65"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<b>Next: </b><A HREF="node65.html#Node65"> Communicator argument</a>
<b>Previous: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
