<HTML>
<!-- This file was generated by tohtml from coll.tex -->
<TITLE>Predefined reduce operations</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node78">4.9.2. Predefined reduce operations</a></H2>
<A HREF="node77.html#Node77"><IMG SRC="previous.gif"></A><A HREF="node76.html#Node76"><IMG SRC="up.gif"></A><A HREF="node79.html#Node79"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node79.html#Node79"> MINLOC and MAXLOC</a>
<b>Previous: </b><A HREF="node77.html#Node77"> Reduce</a>
<P>
  
<P> 
The following predefined operations are supplied for  MPI_REDUCE  
and related functions  MPI_ALLREDUCE,  MPI_REDUCE_SCATTER,  
and  MPI_SCAN.  
These operations are invoked by placing the following in  op.  
<P> 
    
      
      
     
<BR> 
[ Name] Meaning  
 
<BR> 
[ ]   
 
<BR> 
[ MPI_MAX] maximum  
 
<BR> 
[ MPI_MIN] minimum  
 
<BR> 
[ MPI_SUM] sum  
 
<BR> 
[ MPI_PROD] product  
 
<BR> 
[ MPI_LAND] logical and   
 
<BR> 
[ MPI_BAND] bit-wise and   
 
<BR> 
[ MPI_LOR] logical or   
 
<BR> 
[ MPI_BOR] bit-wise or   
 
<BR> 
[ MPI_LXOR] logical xor  
 
<BR> 
[ MPI_BXOR] bit-wise xor  
 
<BR> 
[ MPI_MAXLOC] max value and location  
 
<BR> 
[ MPI_MINLOC] min value and location  
<BR> 
  
<P> 
The two operations  MPI_MINLOC and  MPI_MAXLOC are  
discussed separately in Sec. <a href="node79.html#Node79">MINLOC and MAXLOC
</a>.  
For the other predefined operations,  
we enumerate below the allowed combinations of  op and  
 datatype arguments.  
First, define groups of  MPI basic datatypes  
in the following way.  
<P> 
    
      
      
     
<BR> 
[ C integer:] MPI_INT, MPI_LONG, MPI_SHORT,  
<BR>  
MPI_UNSIGNED_SHORT, MPI_UNSIGNED,  
<BR>  
MPI_UNSIGNED_LONG  
 
<BR> 
[ Fortran integer:] MPI_INTEGER  
 
<BR> 
[ Floating point:] MPI_FLOAT, MPI_DOUBLE, MPI_REAL,  
<BR>  
MPI_DOUBLE_PRECISION, MPI_LONG_DOUBLE  
 
<BR> 
[ Logical:] MPI_LOGICAL  
 
<BR> 
[ Complex:] MPI_COMPLEX  
 
<BR> 
[ Byte:] MPI_BYTE  
<BR> 
  
<P> 
Now, the valid datatypes for each option is specified below.  
<P> 
    
      
      
     
<BR> 
[ Op] Allowed Types  
 
<BR> 
[ ]   
  
 
<BR> 
[ MPI_MAX, MPI_MIN] C integer, Fortran integer, Floating point  
  
 
<BR> 
[ MPI_SUM, MPI_PROD] C integer, Fortran integer, Floating point, Complex  
 
<BR> 
[ MPI_LAND, MPI_LOR, MPI_LXOR] C integer, Logical  
 
<BR> 
[ MPI_BAND, MPI_BOR, MPI_BXOR] C integer, Fortran integer, Byte  
<BR> 
  
<P> 
<BR><b> Example</b>   
  
<P> 
A routine that computes  
the dot product of two vectors that are distributed across a  
group of processes and returns the answer at node zero.  
<P> 
<BR> 
<pre><tt>SUBROUTINE PAR_BLAS1(m, a, b, c, comm) 
REAL a(m), b(m)       ! local slice of array 
REAL c                ! result (at node zero) 
REAL sum 
INTEGER m, comm, i, ierr 
<P> 
! local sum 
sum = 0.0 
DO i = 1, m 
   sum = sum + a(i)*b(i) 
END DO 
<P> 
! global sum 
CALL MPI_REDUCE(sum, c, 1, MPI_REAL, MPI_SUM, 0, comm, ierr) 
RETURN 
</tt></pre> 
  
  
<P> 
<BR><b> Example</b>   
  
<P> 
A routine that computes  
the product of a vector and an array that are distributed across a  
group of processes and returns the answer at node zero.  
<P> 
<BR> 
<pre><tt>SUBROUTINE PAR_BLAS2(m, n, a, b, c, comm) 
REAL a(m), b(m,n)    ! local slice of array 
REAL c(n)            ! result 
REAL sum(n) 
INTEGER n, comm, i, j, ierr 
<P> 
! local sum 
DO j= 1, n 
  sum(j) = 0.0 
  DO i = 1, m 
    sum(j) = sum(j) + a(i)*b(i,j) 
  END DO 
END DO 
<P> 
! global sum 
CALL MPI_REDUCE(sum, c, n, MPI_REAL, MPI_SUM, 0, comm, ierr) 
<P> 
! return result at node zero (and garbage at the other nodes) 
RETURN 
</tt></pre> 
  
  
<P> 

<P>
<HR>
<A HREF="node77.html#Node77"><IMG SRC="previous.gif"></A><A HREF="node76.html#Node76"><IMG SRC="up.gif"></A><A HREF="node79.html#Node79"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node76.html#Node76"> Global Reduction Operations</a>
<b>Next: </b><A HREF="node79.html#Node79"> MINLOC and MAXLOC</a>
<b>Previous: </b><A HREF="node77.html#Node77"> Reduce</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
