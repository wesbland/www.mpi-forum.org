<HTML>
<!-- This file was generated by tohtml from coll.tex -->
<TITLE>Scan</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node84">4.11. Scan</a></H1>
<A HREF="node83.html#Node83"><IMG SRC="previous.gif"></A><A HREF="node63.html#Node63"><IMG SRC="up.gif"></A><A HREF="node85.html#Node85"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<b>Next: </b><A HREF="node85.html#Node85"> Example using  MPI_SCAN</a>
<b>Previous: </b><A HREF="node83.html#Node83"> Reduce-Scatter</a>
<P>
  
<P> 
    
      
      
      
      
     MPI_SCAN( sendbuf, recvbuf, count, datatype, op, comm )  
     
<BR> 
[  IN   sendbuf] starting address of send buffer (choice)  
 
<BR> 
[  OUT   recvbuf]  starting address of receive buffer (choice)  
 
<BR> 
[  IN   count]  number of elements in input buffer (integer)  
 
<BR> 
[  IN   datatype]  data type of elements of input buffer (handle)  
 
<BR> 
[  IN   op]  operation (handle)  
 
<BR> 
[  IN   comm]  communicator (handle)  
<BR> 
  
<P> 
 <tt> int MPI_Scan(void* sendbuf, void* recvbuf, int count, MPI_Datatype datatype, MPI_Op op, MPI_Comm comm ) <BR></tt>  
<P> 
 <tt> MPI_SCAN(SENDBUF, RECVBUF, COUNT, DATATYPE, OP, COMM, IERROR) <BR> &lt;type&gt; SENDBUF(*), RECVBUF(*) <BR>INTEGER COUNT, DATATYPE, OP, COMM, IERROR <BR></tt>  
<P> 
 MPI_SCAN is used to perform a prefix reduction  
on data distributed across the group.  
The operation returns, in the receive buffer of the process with rank  
<tt> i</tt>, the  
reduction of the values in the send buffers of processes with ranks <tt>  
0,...,i</tt> (inclusive).  The type of operations supported,  
their semantics, and the  
constraints on send and receive buffers are as for  MPI_REDUCE.  
<P> 
 
<BR> 
[]<em> Rationale.</em>  
<P> 
We have defined an inclusive scan, that is, the prefix reduction on  
process <tt> i</tt> includes the data from process <tt> i</tt>.  An alternative  
is to define scan in an exclusive manner, where the result on <tt> i</tt>  
only includes data up to <tt> i-1</tt>.  Both definitions are useful.  
The latter has some advantages:  
the inclusive scan can always be computed from the exclusive scan with  
no additional communication; for non-invertible operations  
such as max and min, communication is required to compute  
the exclusive scan from the inclusive scan.  
There  
is, however, a complication with exclusive scan since one must define the  
``unit'' element for the reduction in this case.  That is, one must  
explicitly say what occurs for process <tt> 0</tt>.  This was thought to  
be complex for user-defined operations and hence, the exclusive scan  
was dropped.  
 (<em> End of rationale.</em>) <BR> 
<menu> 
</menu> 

<P>
<HR>
<A HREF="node83.html#Node83"><IMG SRC="previous.gif"></A><A HREF="node63.html#Node63"><IMG SRC="up.gif"></A><A HREF="node85.html#Node85"><IMG SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node63.html#Node63"> Collective Communication</a>
<b>Next: </b><A HREF="node85.html#Node85"> Example using  MPI_SCAN</a>
<b>Previous: </b><A HREF="node83.html#Node83"> Reduce-Scatter</a>
<P>
<HR>
Return to <A HREF="node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-20-html/node306.html">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-1.1 of June 12, 1995<BR>
HTML Generated on August 6, 1997
</FONT>
</BODY>
</HTML>
