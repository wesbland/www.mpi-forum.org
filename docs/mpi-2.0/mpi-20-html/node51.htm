<HTML>
<!-- This file was generated by tohtml from misc-2.tex -->
<!-- with the command
tohtml -default -endpage ../mpi2-forum-tail.htm -basedef ../mpi2defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex mpi2-report.tex 
-->
<TITLE>Allowing User Functions at Process Termination</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node51">4.8. Allowing User Functions at Process Termination</a></H1>
<A HREF="node50.htm#Node50"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node41.htm#Node41"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node52.htm#Node52"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node41.htm#Node41"> Miscellany</a>
<b>Next: </b><A HREF="node52.htm#Node52"> Determining Whether  MPI Has Finished</a>
<b>Previous: </b><A HREF="node50.htm#Node50"> Committing a Committed Datatype </a>
<P>
  
<P> 
  
There are times in which it would be convenient to have actions happen  
when an  MPI process finishes.  For example, a routine may do  
initializations that are useful until the  MPI job (or that part  
of the job that being terminated in the case of dynamically created  
processes) is finished.  This can be accomplished in  MPI-2 by  
attaching an attribute to  MPI_COMM_SELF with a callback  
function.  When  
 MPI_FINALIZEis called, it will first execute the equivalent of an  
 MPI_COMM_FREE on  MPI_COMM_SELF.  
This will  
cause the delete callback function to be executed on all keys  
  
associated with  MPI_COMM_SELF, in an arbitrary order.  If no key has been  
  
attached to  MPI_COMM_SELF, then no callback is invoked.  
The ``freeing'' of  MPI_COMM_SELF occurs before any other parts  
of  MPI are affected.  Thus, for example, calling  
 MPI_FINALIZED will return  false in any of these  
callback functions.  Once done with  MPI_COMM_SELF, the  
order and rest of the actions taken by  MPI_FINALIZE  
is not specified.  
  
<P> 
 
<BR> 
<em> Advice  
        to implementors.</em>  
<P> 
Since attributes can be added from any supported language, the  MPI  
implementation needs to remember the creating language so the correct  
callback is made.  
 (<em> End of advice to implementors.</em>) <BR> 
  

<P>
<HR>
<A HREF="node50.htm#Node50"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node41.htm#Node41"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node52.htm#Node52"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node41.htm#Node41"> Miscellany</a>
<b>Next: </b><A HREF="node52.htm#Node52"> Determining Whether  MPI Has Finished</a>
<b>Previous: </b><A HREF="node50.htm#Node50"> Committing a Committed Datatype </a>
<P>
<HR>
Return to <A HREF="node306.htm">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-11-html/node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 18, 1997<BR>
HTML Generated on September 10, 2001
</FONT>
</BODY>
</HTML>
