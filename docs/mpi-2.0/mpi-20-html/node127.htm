<HTML>
<!-- This file was generated by tohtml from one-side-2.tex -->
<!-- with the command
tohtml -default -endpage ../mpi2-forum-tail.htm -basedef ../mpi2defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex mpi2-report.tex 
-->
<TITLE>Fence</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node127">6.4.1. Fence</a></H2>
<A HREF="node126.htm#Node126"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node126.htm#Node126"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node128.htm#Node128"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node126.htm#Node126"> Synchronization Calls</a>
<b>Next: </b><A HREF="node128.htm#Node128"> General Active Target Synchronization</a>
<b>Previous: </b><A HREF="node126.htm#Node126"> Synchronization Calls</a>
<P>
<TABLE><TR><TD COLSPAN=2>MPI_WIN_FENCE(assert, win)</TD></TR>  
<TR><TD> IN assert</TD><TD>program assertion (integer)</TD></TR>  
<P> 
<TR><TD> IN win</TD><TD>window object (handle)</TD></TR>  
<P> 
</TABLE>  
<P> 
 <tt> int MPI_Win_fence(int assert, MPI_Win win) <BR></tt>  
<P> 
 <tt> MPI_WIN_FENCE(ASSERT, WIN, IERROR)<BR> INTEGER ASSERT, WIN, IERROR <BR></tt>  
<P> 
 <tt> void MPI::Win::Fence(int assert) const <BR></tt>  
<P> 
The  MPI call  MPI_WIN_FENCE(assert, win) synchronizes  
 RMA calls on  win.  The call is collective on the group of  
 win.  
All  RMA  
operations on  win originating at a given process and started  
before the fence call will complete at that process  
before the fence call returns.    
They will be completed at their target before the fence  
call returns at the target.   RMA operations on  win started by  
a process after the fence call returns will access their target  
window only after  MPI_WIN_FENCE has been  
called by the target process.  
<P> 
  
The call completes an  RMA access epoch if it was preceded by  
another fence call and the local process issued  RMA communication  
calls on  win between these two calls.  The call  
completes an  RMA exposure epoch if it was  
preceded by another fence call and the local window was the target of  RMA  
accesses between these two calls.  The call starts an  
 RMA access epoch if it is followed by another fence call and by  
 RMA communication calls issued between these two fence calls.  The  
call starts an exposure epoch if it is followed by another fence call  
and the local window is the target of  RMA accesses between these two fence calls.  
Thus, the fence call is equivalent to calls to a subset of  
<tt> post, start, complete, wait</tt>.  
<P> 
A fence call usually entails a barrier synchronization:  
a process completes a call to  MPI_WIN_FENCE  
only after all other processes in the group entered  
their matching call.  However, a call to  MPI_WIN_FENCE  
that is known not to end any epoch  
(in particular, a call with  assert  
= MPI_MODE_NOPRECEDE) does not necessarily act as a barrier.  
  
<P> 
The  assert argument is used to provide assertions on the  
context of the call that may be used for various optimizations.  This  
is described in  
Section <a href="node130.htm#Node130">Assertions 
</a>.  A value of  assert = 0 is  
always valid.  
<P> 
  
 
<BR> 
<em> Advice to users.</em>  
<P> 
Calls to  MPI_WIN_FENCE should both precede and follow calls to  
put, get or accumulate that are synchronized with fence calls.  
 (<em> End of advice to users.</em>) <BR> 
  
<P> 

<P>
<HR>
<A HREF="node126.htm#Node126"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node126.htm#Node126"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node128.htm#Node128"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node126.htm#Node126"> Synchronization Calls</a>
<b>Next: </b><A HREF="node128.htm#Node128"> General Active Target Synchronization</a>
<b>Previous: </b><A HREF="node126.htm#Node126"> Synchronization Calls</a>
<P>
<HR>
Return to <A HREF="node306.htm">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-11-html/node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 18, 1997<BR>
HTML Generated on September 10, 2001
</FONT>
</BODY>
</HTML>
