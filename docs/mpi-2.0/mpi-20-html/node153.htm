<HTML>
<!-- This file was generated by tohtml from collective-2.tex -->
<!-- with the command
tohtml -default -endpage ../mpi2-forum-tail.htm -basedef ../mpi2defs.txt -numbers -indexname myindex -dosnl -htables -quietlatex mpi2-report.tex 
-->
<TITLE>Exclusive Scan</TITLE>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node153">7.3.6. Exclusive Scan</a></H2>
<A HREF="node152.htm#Node152"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node143.htm#Node143"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node154.htm#Node154"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node143.htm#Node143"> Extended Collective Operations</a>
<b>Next: </b><A HREF="node154.htm#Node154"> External Interfaces</a>
<b>Previous: </b><A HREF="node152.htm#Node152"> Generalized All-to-all Function</a>
<P>
  
<P> 
 MPI-1 provides an inclusive scan operation.  The exclusive scan is described  
here.   
<P> 
<TABLE><TR><TD COLSPAN=2>MPI_EXSCAN(sendbuf, recvbuf, count, datatype, op, comm)</TD></TR>   
<TR><TD> IN sendbuf</TD><TD>starting address of send buffer (choice) </TD></TR>  
<TR><TD> OUT recvbuf</TD><TD>starting address of receive buffer (choice) </TD></TR>  
<TR><TD> IN count</TD><TD>number of elements in input buffer (integer) </TD></TR>  
<TR><TD> IN datatype</TD><TD>data type of elements of input buffer (handle) </TD></TR>  
<TR><TD> IN op</TD><TD>operation (handle) </TD></TR>  
<TR><TD> IN comm</TD><TD> intracommunicator (handle) </TD></TR>  
</TABLE>  
<P> 
 <tt> int MPI_Exscan(void *sendbuf, void *recvbuf, int count, MPI_Datatype datatype, MPI_Op op, MPI_Comm comm)  <BR></tt>  
<P> 
 <tt> MPI_EXSCAN(SENDBUF, RECVBUF, COUNT, DATATYPE, OP, COMM, IERROR) <BR>&lt;type&gt; SENDBUF(*), RECVBUF(*) <BR>INTEGER COUNT, DATATYPE, OP, COMM, IERROR  <BR></tt>  
<P> 
 <tt> void MPI::Intracomm::Exscan(const void* sendbuf, void* recvbuf, int count, const MPI::Datatype&amp; datatype, const MPI::Op&amp; op) const <BR></tt>  
<P> 
<P> 
 MPI_EXSCAN is used to perform a prefix reduction on data distributed  
across the group.   
The value in  recvbuf on the process with rank 0 is undefined, and  recvbuf is not signficant on process 0.  
The value in  recvbuf on the process with rank 1 is defined as  
the value in  sendbuf on the process with rank 0.  
For processes with rank <I>i &gt; 1</I>, the operation returns, in the  
receive buffer of the   
process with rank <I>i</I>, the reduction of the values in the send buffers  
of processes with ranks <I>0,...,i-1</I> (inclusive).   
The type of operations  
supported, their semantics, and the constraints on send and receive  
buffers, are as for  MPI_REDUCE.    
<P> 
No ``in place'' option is supported.  
<P> 
 
<BR> 
<em> Advice to users.</em>  
<P> 
As for  MPI_SCAN, MPI does not specify which processes may call the  
operation, only that the result be correctly computed.  In particular, note  
that the process with rank 1 need not call the <tt>MPI_Op</tt>, since all it  
needs to do is to receive the value from the process with rank 0.  
However, all processes, even the processes with ranks zero  
and one, must provide the same  op.   
 (<em> End of advice to users.</em>) <BR> 
  
 
<BR> 
<em> Rationale.</em>  
<P> 
The exclusive scan is more general than the inclusive scan provided in  
 MPI-1 as  MPI_SCAN.  Any inclusive scan operation can be  
achieved by using the exclusive scan and then locally combining the  
local contribution.  Note that for non-invertable operations such as  
 MPI_MAX, the exclusive scan cannot be computed with the  
inclusive scan.    
<P> 
The reason that  MPI-1 chose the inclusive scan is that the definition  
of behavior on processes zero and one was thought to offer too many  
complexities in definition, particularly for user-defined operations.  
 (<em> End of rationale.</em>) <BR> 
  
<P> 
  
  
  
<P> 

<P>
<HR>
<A HREF="node152.htm#Node152"><IMG WIDTH=16 HEIGHT=16 SRC="previous.gif"></A><A HREF="node143.htm#Node143"><IMG WIDTH=16 HEIGHT=16 SRC="up.gif"></A><A HREF="node154.htm#Node154"><IMG WIDTH=16 HEIGHT=16 SRC="next.gif"></A><BR>
<b>Up: </b><A HREF="node143.htm#Node143"> Extended Collective Operations</a>
<b>Next: </b><A HREF="node154.htm#Node154"> External Interfaces</a>
<b>Previous: </b><A HREF="node152.htm#Node152"> Generalized All-to-all Function</a>
<P>
<HR>
Return to <A HREF="node306.htm">MPI-2 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/docs/mpi-11-html/node182.html">MPI 1.1 Standard Index</A><BR>
Return to <A HREF="http://www.mpi-forum.org/index.html">MPI Forum Home Page</A><BR>
<HR>
<FONT SIZE=-1>MPI-2.0 of July 18, 1997<BR>
HTML Generated on September 10, 2001
</FONT>
</BODY>
</HTML>
